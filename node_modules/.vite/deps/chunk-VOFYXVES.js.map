{
  "version": 3,
  "sources": ["../../@babel/runtime/helpers/interopRequireDefault.js", "../../@kangc/v-md-editor/lib/plugins/katex/creator.js", "../../@babel/runtime/helpers/extends.js", "../../@kangc/v-md-editor/lib/utils/markdown-it-katex.js", "../../@kangc/v-md-editor/lib/plugins/katex/parser-creator.js"],
  "sourcesContent": ["function _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    \"default\": e\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "\"use strict\";\n\nexports.__esModule = true;\nexports.default = _default;\n\nfunction _default(parser) {\n  return function createKatexPlugin(katexOptions) {\n    return {\n      install: function install(VMdEditor) {\n        VMdEditor.vMdParser.use(parser, katexOptions);\n      }\n    };\n  };\n}", "function _extends() {\n  return module.exports = _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _extends.apply(null, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;", "\"use strict\";\n\nexports.__esModule = true;\nexports.default = math_plugin;\n\n// Modified from https://github.com/waylonflinn/markdown-it-katex/blob/master/index.js\n\n/* eslint-disable */\nfunction isValidDelim(state, pos) {\n  var prevChar;\n  var nextChar;\n  var max = state.posMax;\n  var can_open = true;\n  var can_close = true;\n  prevChar = pos > 0 ? state.src.charCodeAt(pos - 1) : -1;\n  nextChar = pos + 1 <= max ? state.src.charCodeAt(pos + 1) : -1;\n\n  if (prevChar === 0x20\n  /* \" \" */\n  || prevChar === 0x09\n  /* \\t */\n  || nextChar >= 0x30\n  /* \"0\" */\n  && nextChar <= 0x39\n  /* \"9\" */\n  ) {\n      can_close = false;\n    }\n\n  if (nextChar === 0x20\n  /* \" \" */\n  || nextChar === 0x09\n  /* \\t */\n  ) {\n      can_open = false;\n    }\n\n  return {\n    can_open: can_open,\n    can_close: can_close\n  };\n}\n\nfunction math_inline(state, silent) {\n  var start;\n  var match;\n  var token;\n  var res;\n  var pos;\n  var esc_count;\n\n  if (state.src[state.pos] !== '$') {\n    return false;\n  }\n\n  res = isValidDelim(state, state.pos);\n\n  if (!res.can_open) {\n    if (!silent) {\n      state.pending += '$';\n    }\n\n    state.pos += 1;\n    return true;\n  }\n\n  start = state.pos + 1;\n  match = start;\n\n  while ((match = state.src.indexOf('$', match)) !== -1) {\n    pos = match - 1;\n\n    while (state.src[pos] === '\\\\') {\n      pos -= 1;\n    }\n\n    if ((match - pos) % 2 == 1) {\n      break;\n    }\n\n    match += 1;\n  }\n\n  if (match === -1) {\n    if (!silent) {\n      state.pending += '$';\n    }\n\n    state.pos = start;\n    return true;\n  }\n\n  if (match - start === 0) {\n    if (!silent) {\n      state.pending += '$$';\n    }\n\n    state.pos = start + 1;\n    return true;\n  }\n\n  res = isValidDelim(state, match);\n\n  if (!res.can_close) {\n    if (!silent) {\n      state.pending += '$';\n    }\n\n    state.pos = start;\n    return true;\n  }\n\n  if (!silent) {\n    token = state.push('math_inline', 'math', 0);\n    token.markup = '$';\n    token.content = state.src.slice(start, match);\n  }\n\n  state.pos = match + 1;\n  return true;\n}\n\nfunction math_block(state, start, end, silent) {\n  var firstLine;\n  var lastLine;\n  var next;\n  var lastPos;\n  var found = false;\n  var token;\n  var pos = state.bMarks[start] + state.tShift[start];\n  var max = state.eMarks[start];\n\n  if (pos + 2 > max) {\n    return false;\n  }\n\n  if (state.src.slice(pos, pos + 2) !== '$$') {\n    return false;\n  }\n\n  pos += 2;\n  firstLine = state.src.slice(pos, max);\n\n  if (silent) {\n    return true;\n  }\n\n  if (firstLine.trim().slice(-2) === '$$') {\n    firstLine = firstLine.trim().slice(0, -2);\n    found = true;\n  }\n\n  for (next = start; !found;) {\n    next++;\n\n    if (next >= end) {\n      break;\n    }\n\n    pos = state.bMarks[next] + state.tShift[next];\n    max = state.eMarks[next];\n\n    if (pos < max && state.tShift[next] < state.blkIndent) {\n      break;\n    }\n\n    if (state.src.slice(pos, max).trim().slice(-2) === '$$') {\n      lastPos = state.src.slice(0, max).lastIndexOf('$$');\n      lastLine = state.src.slice(pos, lastPos);\n      found = true;\n    }\n  }\n\n  state.line = next + 1;\n  token = state.push('math_block', 'math', 0);\n  token.block = true;\n  token.content = (firstLine && firstLine.trim() ? firstLine + '\\n' : '') + state.getLines(start + 1, next, state.tShift[start], true) + (lastLine && lastLine.trim() ? lastLine : '');\n  token.map = [start, state.line];\n  token.markup = '$$';\n  return true;\n}\n\nfunction math_plugin(md, options) {\n  options = options || {};\n  var _options = options,\n      katex = _options.katex;\n\n  var katexInline = function katexInline(latex) {\n    options.displayMode = false;\n\n    try {\n      return katex.renderToString(latex, options);\n    } catch (error) {\n      if (options.throwOnError) {\n        console.log(error);\n      }\n\n      return latex;\n    }\n  };\n\n  var inlineRenderer = function inlineRenderer(tokens, idx) {\n    return katexInline(tokens[idx].content);\n  };\n\n  var katexBlock = function katexBlock(latex) {\n    options.displayMode = true;\n\n    try {\n      return '<p>' + katex.renderToString(latex, options) + '</p>';\n    } catch (error) {\n      if (options.throwOnError) {\n        console.log(error);\n      }\n\n      return latex;\n    }\n  };\n\n  var blockRenderer = function blockRenderer(tokens, idx) {\n    return katexBlock(tokens[idx].content) + '\\n';\n  };\n\n  md.inline.ruler.after('escape', 'math_inline', math_inline);\n  md.block.ruler.after('blockquote', 'math_block', math_block, {\n    alt: ['paragraph', 'reference', 'blockquote', 'list']\n  });\n  md.renderer.rules.math_inline = inlineRenderer;\n  md.renderer.rules.math_block = blockRenderer;\n}", "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = parserCreator;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _markdownItKatex = _interopRequireDefault(require(\"../../utils/markdown-it-katex\"));\n\nfunction parserCreator(katex) {\n  return function parser(vMdParser, katexOptions) {\n    vMdParser.extendMarkdown(function (mdParser) {\n      if (katex) {\n        mdParser.use(_markdownItKatex.default, (0, _extends2.default)({}, katexOptions, {\n          katex: katex\n        }));\n      }\n    });\n  };\n}"],
  "mappings": "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",
  "names": ["katexInline", "inlineRenderer", "katexBlock", "blockRenderer"]
}
