{"version":3,"file":"table-grid.mjs","sources":["../../../../../../packages/components/table-v2/src/table-grid.tsx"],"sourcesContent":["import {\n  computed,\n  defineComponent,\n  inject,\n  nextTick,\n  onActivated,\n  provide,\n  ref,\n  unref,\n  watch,\n} from 'vue'\nimport {\n  DynamicSizeGrid,\n  FixedSizeGrid,\n} from '@element-plus/components/virtual-list'\nimport { isNumber, isObject } from '@element-plus/utils'\nimport { Header } from './components'\nimport { TABLE_V2_GRID_INJECTION_KEY, TableV2InjectionKey } from './tokens'\nimport { tableV2GridProps } from './grid'\nimport { sum } from './utils'\n\nimport type { UnwrapRef } from 'vue'\nimport type {\n  DynamicSizeGridInstance,\n  GridDefaultSlotParams,\n  GridItemKeyGetter,\n  GridItemRenderedEvtParams,\n  GridScrollOptions,\n  ResetAfterIndex,\n  Alignment as ScrollStrategy,\n} from '@element-plus/components/virtual-list'\nimport type { TableV2HeaderInstance } from './components'\nimport type { TableV2GridProps } from './grid'\n\nconst COMPONENT_NAME = 'ElTableV2Grid'\n\nconst useTableGrid = (props: TableV2GridProps) => {\n  const headerRef = ref<TableV2HeaderInstance>()\n  const bodyRef = ref<DynamicSizeGridInstance>()\n  const scrollLeft = ref(0)\n\n  const totalHeight = computed(() => {\n    const { data, rowHeight, estimatedRowHeight } = props\n\n    if (estimatedRowHeight) {\n      return\n    }\n\n    return data.length * (rowHeight as number)\n  })\n\n  const fixedRowHeight = computed(() => {\n    const { fixedData, rowHeight } = props\n\n    return (fixedData?.length || 0) * (rowHeight as number)\n  })\n\n  const headerHeight = computed(() => sum(props.headerHeight))\n\n  const gridHeight = computed(() => {\n    const { height } = props\n    return Math.max(0, height - unref(headerHeight) - unref(fixedRowHeight))\n  })\n\n  const hasHeader = computed(() => {\n    return unref(headerHeight) + unref(fixedRowHeight) > 0\n  })\n\n  const itemKey: GridItemKeyGetter = ({ data, rowIndex }) =>\n    data[rowIndex][props.rowKey]\n\n  function onItemRendered({\n    rowCacheStart,\n    rowCacheEnd,\n    rowVisibleStart,\n    rowVisibleEnd,\n  }: GridItemRenderedEvtParams) {\n    props.onRowsRendered?.({\n      rowCacheStart,\n      rowCacheEnd,\n      rowVisibleStart,\n      rowVisibleEnd,\n    })\n  }\n\n  function resetAfterRowIndex(index: number, forceUpdate: boolean) {\n    bodyRef.value?.resetAfterRowIndex(index, forceUpdate)\n  }\n\n  function scrollTo(x: number, y: number): void\n  function scrollTo(options: GridScrollOptions): void\n  function scrollTo(leftOrOptions: number | GridScrollOptions, top?: number) {\n    const header$ = unref(headerRef)\n    const body$ = unref(bodyRef)\n\n    if (isObject(leftOrOptions)) {\n      header$?.scrollToLeft(leftOrOptions.scrollLeft)\n      scrollLeft.value = leftOrOptions.scrollLeft!\n      body$?.scrollTo(leftOrOptions)\n    } else {\n      header$?.scrollToLeft(leftOrOptions)\n      scrollLeft.value = leftOrOptions\n      body$?.scrollTo({\n        scrollLeft: leftOrOptions,\n        scrollTop: top,\n      })\n    }\n  }\n\n  function scrollToTop(scrollTop: number) {\n    unref(bodyRef)?.scrollTo({\n      scrollTop,\n    })\n  }\n\n  function scrollToRow(row: number, strategy: ScrollStrategy) {\n    const body = unref(bodyRef)\n    if (!body) return\n\n    const prevScrollLeft = scrollLeft.value\n\n    body.scrollToItem(row, 0, strategy)\n\n    if (prevScrollLeft) {\n      scrollTo({\n        scrollLeft: prevScrollLeft,\n      })\n    }\n  }\n\n  function forceUpdate() {\n    unref(bodyRef)?.$forceUpdate()\n    unref(headerRef)?.$forceUpdate()\n  }\n\n  watch(\n    () => props.bodyWidth,\n    () => {\n      if (isNumber(props.estimatedRowHeight))\n        bodyRef.value?.resetAfter({ columnIndex: 0 }, false)\n    }\n  )\n\n  return {\n    bodyRef,\n    forceUpdate,\n    fixedRowHeight,\n    gridHeight,\n    hasHeader,\n    headerHeight,\n    headerRef,\n    totalHeight,\n\n    itemKey,\n    onItemRendered,\n    resetAfterRowIndex,\n    scrollTo,\n    scrollToTop,\n    scrollToRow,\n    scrollLeft,\n  }\n}\n\nconst TableGrid = defineComponent({\n  name: COMPONENT_NAME,\n  props: tableV2GridProps,\n  setup(props, { slots, expose }) {\n    const { ns } = inject(TableV2InjectionKey)!\n\n    const {\n      bodyRef,\n      fixedRowHeight,\n      gridHeight,\n      hasHeader,\n      headerRef,\n      headerHeight,\n      totalHeight,\n\n      forceUpdate,\n      itemKey,\n      onItemRendered,\n      resetAfterRowIndex,\n      scrollTo,\n      scrollToTop,\n      scrollToRow,\n      scrollLeft,\n    } = useTableGrid(props)\n\n    provide(TABLE_V2_GRID_INJECTION_KEY, scrollLeft)\n\n    onActivated(async () => {\n      await nextTick()\n      const scrollTop = bodyRef.value?.states.scrollTop\n      scrollTop && scrollToTop(Math.round(scrollTop) + 1)\n    })\n\n    expose({\n      forceUpdate,\n      /**\n       * @description fetch total height\n       */\n      totalHeight,\n      /**\n       * @description scroll to a position\n       */\n      scrollTo,\n      /**\n       * @description scroll vertically to position y\n       */\n      scrollToTop,\n      /**\n       * @description scroll to a given row\n       * @params row {Number} which row to scroll to\n       * @params strategy {ScrollStrategy} use what strategy to scroll to\n       */\n      scrollToRow,\n      /**\n       * @description reset rendered state after row index\n       */\n      resetAfterRowIndex,\n    })\n\n    const getColumnWidth = () => props.bodyWidth\n\n    return () => {\n      const {\n        cache,\n        columns,\n        data,\n        fixedData,\n        useIsScrolling,\n        scrollbarAlwaysOn,\n        scrollbarEndGap,\n        scrollbarStartGap,\n        style,\n        rowHeight,\n        bodyWidth,\n        estimatedRowHeight,\n        headerWidth,\n        height,\n        width,\n\n        getRowHeight,\n        onScroll,\n      } = props\n\n      const isDynamicRowEnabled = isNumber(estimatedRowHeight)\n      const Grid = isDynamicRowEnabled ? DynamicSizeGrid : FixedSizeGrid\n      const _headerHeight = unref(headerHeight)\n\n      return (\n        <div role=\"table\" class={[ns.e('table'), props.class]} style={style}>\n          <Grid\n            ref={bodyRef}\n            // special attrs\n            data={data}\n            useIsScrolling={useIsScrolling}\n            itemKey={itemKey}\n            // column attrs\n            columnCache={0}\n            columnWidth={isDynamicRowEnabled ? getColumnWidth : bodyWidth}\n            totalColumn={1}\n            // row attrs\n            totalRow={data.length}\n            rowCache={cache}\n            rowHeight={isDynamicRowEnabled ? getRowHeight : rowHeight}\n            // DOM attrs\n            width={width}\n            height={unref(gridHeight)}\n            class={ns.e('body')}\n            role=\"rowgroup\"\n            scrollbarStartGap={scrollbarStartGap}\n            scrollbarEndGap={scrollbarEndGap}\n            scrollbarAlwaysOn={scrollbarAlwaysOn}\n            // handlers\n            onScroll={onScroll}\n            onItemRendered={onItemRendered}\n            perfMode={false}\n          >\n            {{\n              default: (params: GridDefaultSlotParams) => {\n                const rowData = data[params.rowIndex]\n                return slots.row?.({\n                  ...params,\n                  columns,\n                  rowData,\n                })\n              },\n            }}\n          </Grid>\n          {unref(hasHeader) && (\n            <Header\n              ref={headerRef}\n              class={ns.e('header-wrapper')}\n              columns={columns}\n              headerData={data}\n              headerHeight={props.headerHeight}\n              fixedHeaderData={fixedData}\n              rowWidth={headerWidth}\n              rowHeight={rowHeight}\n              width={width}\n              height={Math.min(_headerHeight + unref(fixedRowHeight), height)}\n            >\n              {{\n                dynamic: slots.header,\n                fixed: slots.row,\n              }}\n            </Header>\n          )}\n        </div>\n      )\n    }\n  },\n})\n\nexport default TableGrid\n\nexport type TableGridRowSlotParams = {\n  columns: TableV2GridProps['columns']\n  rowData: any\n} & GridDefaultSlotParams\n\nexport type TableGridInstance = InstanceType<typeof TableGrid> &\n  UnwrapRef<{\n    forceUpdate: () => void\n    /**\n     * @description fetch total height\n     */\n    totalHeight: number\n\n    /**\n     * @description scrollTo a position\n     * @param { number | ScrollToOptions } arg1\n     * @param { number } arg2\n     */\n    scrollTo(leftOrOptions: number | GridScrollOptions, top?: number): void\n\n    /**\n     * @description scroll vertically to position y\n     */\n    scrollToTop(scrollTop: number): void\n    /**\n     * @description scroll to a given row\n     * @params row {Number} which row to scroll to\n     * @params @optional strategy {ScrollStrategy} use what strategy to scroll to\n     */\n    scrollToRow(row: number, strategy: ScrollStrategy): void\n    /**\n     * @description reset rendered state after row index\n     * @param { number } rowIndex\n     * @param { boolean } forceUpdate\n     */\n    resetAfterRowIndex: ResetAfterIndex\n  }>\n"],"names":["COMPONENT_NAME","useTableGrid","props","headerRef","ref","bodyRef","scrollLeft","totalHeight","computed","data","rowHeight","estimatedRowHeight","length","fixedRowHeight","fixedData","headerHeight","sum","gridHeight","height","Math","max","unref","hasHeader","itemKey","rowIndex","rowKey","onItemRendered","rowCacheStart","rowCacheEnd","rowVisibleStart","rowVisibleEnd","onRowsRendered","resetAfterRowIndex","index","forceUpdate","value","scrollTo","leftOrOptions","top","header$","body$","isObject","scrollToLeft","scrollTop","scrollToTop","scrollToRow","row","strategy","body","prevScrollLeft","scrollToItem","$forceUpdate","watch","bodyWidth","isNumber","resetAfter","columnIndex","TableGrid","defineComponent","name","tableV2GridProps","setup","slots","expose","ns","inject","TableV2InjectionKey","provide","TABLE_V2_GRID_INJECTION_KEY","onActivated","nextTick","states","round","getColumnWidth","cache","columns","useIsScrolling","scrollbarAlwaysOn","scrollbarEndGap","scrollbarStartGap","style","headerWidth","width","getRowHeight","onScroll","isDynamicRowEnabled","Grid","DynamicSizeGrid","FixedSizeGrid","_headerHeight","_createVNode","e","class","default","params","rowData","Header","min","dynamic","header","fixed"],"mappings":";;;;;;;;;;AAkCA,MAAMA,cAAiB,GAAA,eAAA,CAAA;AAEvB,MAAMC,eAAgBC,CAA4B,KAAA,KAAA;AAChD,EAAA,MAAMC,YAAYC,GAA2B,EAAA,CAAA;AAC7C,EAAA,MAAMC,UAAUD,GAA6B,EAAA,CAAA;AAC7C,EAAME,MAAAA,UAAAA,GAAaF,IAAI,CAAC,CAAA,CAAA;AAExB,EAAMG,MAAAA,WAAAA,GAAcC,SAAS,MAAM;AACjC,IAAM,MAAA;AAAA,MAAEC,IAAAA;AAAAA,MAAMC,SAAAA;AAAAA,MAAWC,kBAAAA;AAAAA,KAAuBT,GAAAA,KAAAA,CAAAA;AAEhD,IAAA,IAAIS,kBAAoB,EAAA;AACtB,MAAA,OAAA;AAAA,KACF;AAEA,IAAA,OAAOF,KAAKG,MAAUF,GAAAA,SAAAA,CAAAA;AAAAA,GACvB,CAAA,CAAA;AAED,EAAMG,MAAAA,cAAAA,GAAiBL,SAAS,MAAM;AACpC,IAAM,MAAA;AAAA,MAAEM,SAAAA;AAAAA,MAAWJ,SAAAA;AAAAA,KAAcR,GAAAA,KAAAA,CAAAA;AAEjC,IAAQY,OAAAA,CAAAA,CAAAA,SAAAA,IAAAA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,SAAAA,CAAWF,WAAU,CAAMF,IAAAA,SAAAA,CAAAA;AAAAA,GACpC,CAAA,CAAA;AAED,EAAA,MAAMK,eAAeP,QAAS,CAAA,MAAMQ,GAAId,CAAAA,KAAAA,CAAMa,YAAY,CAAC,CAAA,CAAA;AAE3D,EAAME,MAAAA,UAAAA,GAAaT,SAAS,MAAM;AAChC,IAAM,MAAA;AAAA,MAAEU,MAAAA;AAAAA,KAAWhB,GAAAA,KAAAA,CAAAA;AACnB,IAAOiB,OAAAA,IAAAA,CAAKC,IAAI,CAAGF,EAAAA,MAAAA,GAASG,MAAMN,YAAY,CAAA,GAAIM,KAAMR,CAAAA,cAAc,CAAC,CAAA,CAAA;AAAA,GACxE,CAAA,CAAA;AAED,EAAMS,MAAAA,SAAAA,GAAYd,SAAS,MAAM;AAC/B,IAAA,OAAOa,KAAMN,CAAAA,YAAY,CAAIM,GAAAA,KAAAA,CAAMR,cAAc,CAAI,GAAA,CAAA,CAAA;AAAA,GACtD,CAAA,CAAA;AAED,EAAA,MAAMU,UAA6BA,CAAC;AAAA,IAAEd,IAAAA;AAAAA,IAAMe,QAAAA;AAAAA,GAAS,KACnDf,IAAKe,CAAAA,QAAAA,CAAAA,CAAUtB,KAAMuB,CAAAA,MAAAA,CAAAA,CAAAA;AAEvB,EAAA,SAASC,cAAe,CAAA;AAAA,IACtBC,aAAAA;AAAAA,IACAC,WAAAA;AAAAA,IACAC,eAAAA;AAAAA,IACAC,aAAAA;AAAAA,GAC4B,EAAA;AA5EhC,IAAA,IAAA,EAAA,CAAA;AA6EI5B,IAAAA,CAAAA,EAAAA,GAAAA,KAAAA,CAAM6B,mBAAN7B,IAAuB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AAAA,MACrByB,aAAAA;AAAAA,MACAC,WAAAA;AAAAA,MACAC,eAAAA;AAAAA,MACAC,aAAAA;AAAAA,KACF,CAAA,CAAA;AAAA,GACF;AAEA,EAASE,SAAAA,kBAAAA,CAAmBC,OAAeC,YAAsB,EAAA;AArFnE,IAAA,IAAA,EAAA,CAAA;AAsFI7B,IAAQ8B,CAAAA,EAAAA,GAAAA,OAAAA,CAAAA,KAAAA,KAAR9B,IAAe2B,GAAAA,KAAAA,CAAAA,GAAAA,EAAAA,CAAAA,kBAAAA,CAAmBC,KAAOC,EAAAA,YAAAA,CAAAA,CAAAA;AAAAA,GAC3C;AAIA,EAASE,SAAAA,QAAAA,CAASC,eAA2CC,GAAc,EAAA;AACzE,IAAMC,MAAAA,OAAAA,GAAUlB,MAAMlB,SAAS,CAAA,CAAA;AAC/B,IAAMqC,MAAAA,KAAAA,GAAQnB,MAAMhB,OAAO,CAAA,CAAA;AAE3B,IAAIoC,IAAAA,QAAAA,CAASJ,aAAa,CAAG,EAAA;AAC3BE,MAAAA,OAAAA,IAAAA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,OAAAA,CAASG,aAAaL,aAAc/B,CAAAA,UAAAA,CAAAA,CAAAA;AACpCA,MAAAA,UAAAA,CAAW6B,QAAQE,aAAc/B,CAAAA,UAAAA,CAAAA;AACjCkC,MAAAA,KAAAA,IAAAA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAOJ,QAASC,CAAAA,aAAAA,CAAAA,CAAAA;AAAAA,KACX,MAAA;AACLE,MAAAA,OAAAA,IAAAA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,OAAAA,CAASG,YAAaL,CAAAA,aAAAA,CAAAA,CAAAA;AACtB/B,MAAAA,UAAAA,CAAW6B,KAAQE,GAAAA,aAAAA,CAAAA;AACnBG,MAAAA,KAAAA,IAAAA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAOJ,QAAS,CAAA;AAAA,QACd9B,UAAY+B,EAAAA,aAAAA;AAAAA,QACZM,SAAWL,EAAAA,GAAAA;AAAAA,OACb,CAAA,CAAA;AAAA,KACF;AAAA,GACF;AAEA,EAAA,SAASM,YAAYD,SAAmB,EAAA;AA7G1C,IAAA,IAAA,EAAA,CAAA;AA8GItB,IAAMhB,CAAAA,EAAAA,GAAAA,KAAAA,CAAAA,OAAO,CAAbgB,KAAAA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,EAAAA,CAAgBe,QAAS,CAAA;AAAA,MACvBO,SAAAA;AAAAA,KACF,CAAA,CAAA;AAAA,GACF;AAEA,EAASE,SAAAA,WAAAA,CAAYC,KAAaC,QAA0B,EAAA;AAC1D,IAAMC,MAAAA,IAAAA,GAAO3B,MAAMhB,OAAO,CAAA,CAAA;AAC1B,IAAA,IAAI,CAAC2C,IAAAA;AAAM,MAAA,OAAA;AAEX,IAAA,MAAMC,iBAAiB3C,UAAW6B,CAAAA,KAAAA,CAAAA;AAElCa,IAAKE,IAAAA,CAAAA,YAAAA,CAAaJ,GAAK,EAAA,CAAA,EAAGC,QAAQ,CAAA,CAAA;AAElC,IAAA,IAAIE,cAAgB,EAAA;AAClBb,MAAS,QAAA,CAAA;AAAA,QACP9B,UAAY2C,EAAAA,cAAAA;AAAAA,OACb,CAAA,CAAA;AAAA,KACH;AAAA,GACF;AAEA,EAAA,SAASf,WAAc,GAAA;AAlIzB,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAmIIb,IAAMhB,CAAAA,EAAAA,GAAAA,KAAAA,CAAAA,OAAO,MAAbgB,IAAgB8B,GAAAA,KAAAA,CAAAA,GAAAA,EAAAA,CAAAA,YAAAA,EAAAA,CAAAA;AAChB9B,IAAMlB,CAAAA,EAAAA,GAAAA,KAAAA,CAAAA,SAAS,MAAfkB,IAAkB8B,GAAAA,KAAAA,CAAAA,GAAAA,EAAAA,CAAAA,YAAAA,EAAAA,CAAAA;AAAAA,GACpB;AAEAC,EACE,KAAA,CAAA,MAAMlD,KAAMmD,CAAAA,SAAAA,EACZ,MAAM;AAzIV,IAAA,IAAA,EAAA,CAAA;AA0IM,IAAIC,IAAAA,QAAAA,CAASpD,MAAMS,kBAAkB,CAAA;AACnCN,MAAQ8B,CAAAA,EAAAA,GAAAA,OAAAA,CAAAA,KAAAA,KAAR9B,mBAAekD,UAAW,CAAA;AAAA,QAAEC,WAAa,EAAA,CAAA;AAAA,OAAK,EAAA,KAAA,CAAA,CAAA;AAAA,GAEpD,CAAA,CAAA;AAEA,EAAO,OAAA;AAAA,IACLnD,OAAAA;AAAAA,IACA6B,WAAAA;AAAAA,IACArB,cAAAA;AAAAA,IACAI,UAAAA;AAAAA,IACAK,SAAAA;AAAAA,IACAP,YAAAA;AAAAA,IACAZ,SAAAA;AAAAA,IACAI,WAAAA;AAAAA,IAEAgB,OAAAA;AAAAA,IACAG,cAAAA;AAAAA,IACAM,kBAAAA;AAAAA,IACAI,QAAAA;AAAAA,IACAQ,WAAAA;AAAAA,IACAC,WAAAA;AAAAA,IACAvC,UAAAA;AAAAA,GACF,CAAA;AACF,CAAA,CAAA;AAEA,MAAMmD,YAAYC,eAAgB,CAAA;AAAA,EAChCC,IAAM3D,EAAAA,cAAAA;AAAAA,EACNE,KAAO0D,EAAAA,gBAAAA;AAAAA,EACPC,MAAM3D,KAAO,EAAA;AAAA,IAAE4D,KAAAA;AAAAA,IAAOC,MAAAA;AAAAA,GAAU,EAAA;AAC9B,IAAM,MAAA;AAAA,MAAEC,EAAAA;AAAAA,KAAG,GAAIC,OAAOC,mBAAmB,CAAA,CAAA;AAEzC,IAAM,MAAA;AAAA,MACJ7D,OAAAA;AAAAA,MACAQ,cAAAA;AAAAA,MACAI,UAAAA;AAAAA,MACAK,SAAAA;AAAAA,MACAnB,SAAAA;AAAAA,MACAY,YAAAA;AAAAA,MACAR,WAAAA;AAAAA,MAEA2B,WAAAA;AAAAA,MACAX,OAAAA;AAAAA,MACAG,cAAAA;AAAAA,MACAM,kBAAAA;AAAAA,MACAI,QAAAA;AAAAA,MACAQ,WAAAA;AAAAA,MACAC,WAAAA;AAAAA,MACAvC,UAAAA;AAAAA,KACF,GAAIL,aAAaC,KAAK,CAAA,CAAA;AAEtBiE,IAAAA,OAAAA,CAAQC,6BAA6B9D,UAAU,CAAA,CAAA;AAE/C+D,IAAAA,WAAAA,CAAY,YAAY;AA9L5B,MAAA,IAAA,EAAA,CAAA;AA+LM,MAAA,MAAMC,QAAS,EAAA,CAAA;AACf,MAAA,MAAM3B,SAAYtC,GAAAA,CAAAA,EAAAA,GAAAA,OAAAA,CAAQ8B,KAAR9B,KAAAA,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,EAAAA,CAAekE,MAAO5B,CAAAA,SAAAA,CAAAA;AACxCA,MAAAA,SAAAA,IAAaC,WAAYzB,CAAAA,IAAAA,CAAKqD,KAAM7B,CAAAA,SAAS,IAAI,CAAC,CAAA,CAAA;AAAA,KACnD,CAAA,CAAA;AAEDoB,IAAO,MAAA,CAAA;AAAA,MACL7B,WAAAA;AAAAA,MAIA3B,WAAAA;AAAAA,MAIA6B,QAAAA;AAAAA,MAIAQ,WAAAA;AAAAA,MAMAC,WAAAA;AAAAA,MAIAb,kBAAAA;AAAAA,KACD,CAAA,CAAA;AAED,IAAMyC,MAAAA,cAAAA,GAAiBA,MAAMvE,KAAMmD,CAAAA,SAAAA,CAAAA;AAEnC,IAAA,OAAO,MAAM;AACX,MAAM,MAAA;AAAA,QACJqB,KAAAA;AAAAA,QACAC,OAAAA;AAAAA,QACAlE,IAAAA;AAAAA,QACAK,SAAAA;AAAAA,QACA8D,cAAAA;AAAAA,QACAC,iBAAAA;AAAAA,QACAC,eAAAA;AAAAA,QACAC,iBAAAA;AAAAA,QACAC,KAAAA;AAAAA,QACAtE,SAAAA;AAAAA,QACA2C,SAAAA;AAAAA,QACA1C,kBAAAA;AAAAA,QACAsE,WAAAA;AAAAA,QACA/D,MAAAA;AAAAA,QACAgE,KAAAA;AAAAA,QAEAC,YAAAA;AAAAA,QACAC,QAAAA;AAAAA,OACElF,GAAAA,KAAAA,CAAAA;AAEJ,MAAMmF,MAAAA,mBAAAA,GAAsB/B,SAAS3C,kBAAkB,CAAA,CAAA;AACvD,MAAM2E,MAAAA,IAAAA,GAAOD,sBAAsBE,eAAkBC,GAAAA,aAAAA,CAAAA;AACrD,MAAMC,MAAAA,aAAAA,GAAgBpE,MAAMN,YAAY,CAAA,CAAA;AAExC,MAAA,OAAA2E,YAAA,KAAA,EAAA;AAAA,QAAA,MAAA,EAAA,OAAA;AAAA,QAAA,SAC2B,CAAC1B,EAAAA,CAAG2B,EAAE,OAAO,CAAA,EAAGzF,MAAM0F,KAAK,CAAA;AAAA,QAAC,OAASZ,EAAAA,KAAAA;AAAAA,OAAK,EAAAU,CAAAA,WAAAA,CAAAJ,IAAA,EAAA;AAAA,QAAA,KAE1DjF,EAAAA,OAAAA;AAAAA,QAAO,MAENI,EAAAA,IAAAA;AAAAA,QAAI,gBACMmE,EAAAA,cAAAA;AAAAA,QAAc,SACrBrD,EAAAA,OAAAA;AAAAA,QAAO,aAEH,EAAA,CAAA;AAAA,QAAC,aAAA,EACD8D,sBAAsBZ,cAAiBpB,GAAAA,SAAAA;AAAAA,QAAS,aAChD,EAAA,CAAA;AAAA,QAAC,YAEJ5C,IAAKG,CAAAA,MAAAA;AAAAA,QAAM,UACX8D,EAAAA,KAAAA;AAAAA,QAAK,WAAA,EACJW,sBAAsBF,YAAezE,GAAAA,SAAAA;AAAAA,QAAS,OAElDwE,EAAAA,KAAAA;AAAAA,QAAK,QAAA,EACJ7D,MAAMJ,UAAU,CAAA;AAAA,QAAC,OAAA,EAClB+C,EAAG2B,CAAAA,CAAAA,CAAE,MAAM,CAAA;AAAA,QAAC,MAAA,EAAA,UAAA;AAAA,QAAA,mBAEAZ,EAAAA,iBAAAA;AAAAA,QAAiB,iBACnBD,EAAAA,eAAAA;AAAAA,QAAe,mBACbD,EAAAA,iBAAAA;AAAAA,QAAiB,UAE1BO,EAAAA,QAAAA;AAAAA,QAAQ,gBACF1D,EAAAA,cAAAA;AAAAA,QAAc,UACpB,EAAA,KAAA;AAAA,OAAK,EAAA;AAAA,QAGbmE,SAAUC,CAAkC,MAAA,KAAA;AAxR1D,UAAA,IAAA,EAAA,CAAA;AAyRgB,UAAMC,MAAAA,OAAAA,GAAUtF,KAAKqF,MAAOtE,CAAAA,QAAAA,CAAAA,CAAAA;AAC5B,UAAOsC,OAAAA,CAAAA,EAAAA,GAAAA,KAAAA,CAAMhB,QAANgB,IAAY,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AAAA,YACjB,GAAGgC,MAAAA;AAAAA,YACHnB,OAAAA;AAAAA,YACAoB,OAAAA;AAAAA,WACF,CAAA,CAAA;AAAA,SACF;AAAA,OAAC,CAGJ1E,EAAAA,KAAAA,CAAMC,SAAS,CAAA,IAACoE,YAAAM,MAAA,EAAA;AAAA,QAAA,KAER7F,EAAAA,SAAAA;AAAAA,QAAS,OAAA,EACP6D,EAAG2B,CAAAA,CAAAA,CAAE,gBAAgB,CAAA;AAAA,QAAC,SACpBhB,EAAAA,OAAAA;AAAAA,QAAO,YACJlE,EAAAA,IAAAA;AAAAA,QAAI,gBACFP,KAAMa,CAAAA,YAAAA;AAAAA,QAAY,iBACfD,EAAAA,SAAAA;AAAAA,QAAS,UAChBmE,EAAAA,WAAAA;AAAAA,QAAW,WACVvE,EAAAA,SAAAA;AAAAA,QAAS,OACbwE,EAAAA,KAAAA;AAAAA,QAAK,UACJ/D,IAAK8E,CAAAA,GAAAA,CAAIR,gBAAgBpE,KAAMR,CAAAA,cAAc,GAAGK,MAAM,CAAA;AAAA,OAAC,EAAA;AAAA,QAG7DgF,SAASpC,KAAMqC,CAAAA,MAAAA;AAAAA,QACfC,OAAOtC,KAAMhB,CAAAA,GAAAA;AAAAA,OAGlB,CAAA,CAAA,CAAA,CAAA;AAAA,KAGP,CAAA;AAAA,GACF;AACF,CAAC,CAAA,CAAA;AAED,YAAeW,SAAAA;;;;"}