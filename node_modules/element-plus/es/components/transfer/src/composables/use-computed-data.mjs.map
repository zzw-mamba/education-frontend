{"version":3,"file":"use-computed-data.mjs","sources":["../../../../../../../packages/components/transfer/src/composables/use-computed-data.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { usePropsAlias } from './use-props-alias'\n\nimport type { TransferDataItem, TransferKey, TransferProps } from '../transfer'\n\nexport const useComputedData = (props: TransferProps) => {\n  const propsAlias = usePropsAlias(props)\n\n  const dataObj = computed(() =>\n    props.data.reduce((o, cur) => (o[cur[propsAlias.value.key]] = cur) && o, {})\n  )\n\n  const sourceData = computed(() =>\n    props.data.filter(\n      (item) => !props.modelValue.includes(item[propsAlias.value.key])\n    )\n  )\n\n  const targetData = computed(() => {\n    if (props.targetOrder === 'original') {\n      return props.data.filter((item) =>\n        props.modelValue.includes(item[propsAlias.value.key])\n      )\n    } else {\n      return props.modelValue.reduce(\n        (arr: TransferDataItem[], cur: TransferKey) => {\n          const val = dataObj.value[cur]\n          if (val) {\n            arr.push(val)\n          }\n          return arr\n        },\n        []\n      )\n    }\n  })\n\n  return {\n    sourceData,\n    targetData,\n  }\n}\n"],"names":[],"mappings":";;;AAKa,MAAA,eAAA,GAAkB,CAAC,KAAyB,KAAA;AACvD,EAAM,MAAA,UAAA,GAAa,cAAc,KAAK,CAAA,CAAA;AAEtC,EAAA,MAAM,OAAU,GAAA,QAAA;AAAA,IAAS,MACvB,KAAA,CAAM,IAAK,CAAA,MAAA,CAAO,CAAC,CAAG,EAAA,GAAA,KAAA,CAAS,CAAE,CAAA,GAAA,CAAI,WAAW,KAAM,CAAA,GAAA,CAAA,CAAA,GAAQ,GAAQ,KAAA,CAAA,EAAG,EAAE,CAAA;AAAA,GAC7E,CAAA;AAEA,EAAA,MAAM,UAAa,GAAA,QAAA;AAAA,IAAS,MAC1B,MAAM,IAAK,CAAA,MAAA;AAAA,MACT,CAAC,SAAS,CAAC,KAAA,CAAM,WAAW,QAAS,CAAA,IAAA,CAAK,UAAW,CAAA,KAAA,CAAM,GAAI,CAAA,CAAA;AAAA,KACjE;AAAA,GACF,CAAA;AAEA,EAAM,MAAA,UAAA,GAAa,SAAS,MAAM;AAChC,IAAI,IAAA,KAAA,CAAM,gBAAgB,UAAY,EAAA;AACpC,MAAA,OAAO,MAAM,IAAK,CAAA,MAAA;AAAA,QAAO,CAAC,SACxB,KAAM,CAAA,UAAA,CAAW,SAAS,IAAK,CAAA,UAAA,CAAW,MAAM,GAAI,CAAA,CAAA;AAAA,OACtD,CAAA;AAAA,KACK,MAAA;AACL,MAAA,OAAO,MAAM,UAAW,CAAA,MAAA;AAAA,QACtB,CAAC,KAAyB,GAAqB,KAAA;AAC7C,UAAM,MAAA,GAAA,GAAM,QAAQ,KAAM,CAAA,GAAA,CAAA,CAAA;AAC1B,UAAA,IAAI,GAAK,EAAA;AACP,YAAA,GAAA,CAAI,KAAK,GAAG,CAAA,CAAA;AAAA,WACd;AACA,UAAO,OAAA,GAAA,CAAA;AAAA,SACT;AAAA,QACA,EAAC;AAAA,OACH,CAAA;AAAA,KACF;AAAA,GACD,CAAA,CAAA;AAED,EAAO,OAAA;AAAA,IACL,UAAA;AAAA,IACA,UAAA;AAAA,GACF,CAAA;AACF;;;;"}