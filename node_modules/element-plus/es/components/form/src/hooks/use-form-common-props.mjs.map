{"version":3,"file":"use-form-common-props.mjs","sources":["../../../../../../../packages/components/form/src/hooks/use-form-common-props.ts"],"sourcesContent":["import { computed, inject, ref, unref } from 'vue'\nimport { useGlobalSize } from '@element-plus/hooks/use-size'\nimport { useProp } from '@element-plus/hooks/use-prop'\nimport { formContextKey, formItemContextKey } from '../constants'\n\nimport type { ComponentSize } from '@element-plus/constants'\nimport type { MaybeRef } from '@vueuse/core'\n\nexport const useFormSize = (\n  fallback?: MaybeRef<ComponentSize | undefined>,\n  ignore: Partial<Record<'prop' | 'form' | 'formItem' | 'global', boolean>> = {}\n) => {\n  const emptyRef = ref(undefined)\n\n  const size = ignore.prop ? emptyRef : useProp<ComponentSize>('size')\n  const globalConfig = ignore.global ? emptyRef : useGlobalSize()\n  const form = ignore.form\n    ? { size: undefined }\n    : inject(formContextKey, undefined)\n  const formItem = ignore.formItem\n    ? { size: undefined }\n    : inject(formItemContextKey, undefined)\n\n  return computed(\n    (): ComponentSize =>\n      size.value ||\n      unref(fallback) ||\n      formItem?.size ||\n      form?.size ||\n      globalConfig.value ||\n      ''\n  )\n}\n\nexport const useFormDisabled = (fallback?: MaybeRef<boolean | undefined>) => {\n  const disabled = useProp<boolean>('disabled')\n  const form = inject(formContextKey, undefined)\n\n  return computed(() => {\n    return disabled.value ?? unref(fallback) ?? form?.disabled ?? false\n  })\n}\n\n// These exports are used for preventing breaking changes\nexport const useSize = useFormSize\nexport const useDisabled = useFormDisabled\n"],"names":[],"mappings":";;;;;AAQO,MAAM,WAAc,GAAA,CACzB,QACA,EAAA,MAAA,GAA4E,EACzE,KAAA;AACH,EAAM,MAAA,QAAA,GAAW,IAAI,KAAS,CAAA,CAAA,CAAA;AAE9B,EAAA,MAAM,IAAO,GAAA,MAAA,CAAO,IAAO,GAAA,QAAA,GAAW,QAAuB,MAAM,CAAA,CAAA;AACnE,EAAA,MAAM,YAAe,GAAA,MAAA,CAAO,MAAS,GAAA,QAAA,GAAW,aAAc,EAAA,CAAA;AAC9D,EAAM,MAAA,IAAA,GAAO,OAAO,IAChB,GAAA,EAAE,MAAM,KAAU,CAAA,EAAA,GAClB,MAAO,CAAA,cAAA,EAAgB,KAAS,CAAA,CAAA,CAAA;AACpC,EAAM,MAAA,QAAA,GAAW,OAAO,QACpB,GAAA,EAAE,MAAM,KAAU,CAAA,EAAA,GAClB,MAAO,CAAA,kBAAA,EAAoB,KAAS,CAAA,CAAA,CAAA;AAExC,EAAO,OAAA,QAAA;AAAA,IACL,MACE,IAAK,CAAA,KAAA,IACL,KAAM,CAAA,QAAQ,CACd,KAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAU,IACV,CAAA,KAAA,IAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAM,IACN,CAAA,IAAA,YAAA,CAAa,KACb,IAAA,EAAA;AAAA,GACJ,CAAA;AACF,EAAA;AAEa,MAAA,eAAA,GAAkB,CAAC,QAA6C,KAAA;AAC3E,EAAM,MAAA,QAAA,GAAW,QAAiB,UAAU,CAAA,CAAA;AAC5C,EAAM,MAAA,IAAA,GAAO,MAAO,CAAA,cAAA,EAAgB,KAAS,CAAA,CAAA,CAAA;AAE7C,EAAA,OAAO,SAAS,MAAM;AAtCxB,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAuCI,IAAO,OAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,QAAA,CAAS,UAAT,IAAkB,GAAA,EAAA,GAAA,KAAA,CAAM,QAAQ,CAAhC,KAAA,IAAA,GAAA,EAAA,GAAqC,IAAM,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAA,QAAA,KAA3C,IAAuD,GAAA,EAAA,GAAA,KAAA,CAAA;AAAA,GAC/D,CAAA,CAAA;AACH,EAAA;AAGO,MAAM,OAAU,GAAA,YAAA;AAChB,MAAM,WAAc,GAAA;;;;"}