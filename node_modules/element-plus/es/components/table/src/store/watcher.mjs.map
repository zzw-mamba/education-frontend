{"version":3,"file":"watcher.mjs","sources":["../../../../../../../packages/components/table/src/store/watcher.ts"],"sourcesContent":["import { computed, getCurrentInstance, ref, toRefs, unref, watch } from 'vue'\nimport { ensureArray, hasOwn, isArray, isString } from '@element-plus/utils'\nimport {\n  getColumnById,\n  getColumnByKey,\n  getKeysMap,\n  getRowIdentity,\n  orderBy,\n  toggleRowStatus,\n} from '../util'\nimport useExpand from './expand'\nimport useCurrent from './current'\nimport useTree from './tree'\n\nimport type { Ref } from 'vue'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type {\n  DefaultRow,\n  Table,\n  TableRefs,\n  TableSortOrder,\n} from '../table/defaults'\nimport type { StoreFilter } from '.'\n\nconst sortData = <T extends DefaultRow>(\n  data: T[],\n  states: {\n    sortingColumn: TableColumnCtx<T> | null\n    sortProp: string | null\n    sortOrder: string | number | null\n  }\n) => {\n  const sortingColumn = states.sortingColumn\n  if (!sortingColumn || isString(sortingColumn.sortable)) {\n    return data\n  }\n  return orderBy(\n    data,\n    states.sortProp,\n    states.sortOrder,\n    sortingColumn.sortMethod,\n    sortingColumn.sortBy\n  )\n}\n\nconst doFlattenColumns = <T extends DefaultRow>(\n  columns: TableColumnCtx<T>[]\n) => {\n  const result: TableColumnCtx<T>[] = []\n  columns.forEach((column) => {\n    if (column.children && column.children.length > 0) {\n      // eslint-disable-next-line prefer-spread\n      result.push.apply(result, doFlattenColumns(column.children))\n    } else {\n      result.push(column)\n    }\n  })\n  return result\n}\n\nfunction useWatcher<T extends DefaultRow>() {\n  const instance = getCurrentInstance() as Table<T>\n  const { size: tableSize } = toRefs(instance.proxy?.$props as any)\n  const rowKey: Ref<string | null> = ref(null)\n  const data: Ref<T[]> = ref([])\n  const _data: Ref<T[]> = ref([])\n  const isComplex = ref(false)\n  const _columns: Ref<TableColumnCtx<T>[]> = ref([])\n  const originColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const columns: Ref<TableColumnCtx<T>[]> = ref([])\n  const fixedColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const rightFixedColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const leafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const fixedLeafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const rightFixedLeafColumns: Ref<TableColumnCtx<T>[]> = ref([])\n  const updateOrderFns: (() => void)[] = []\n  const leafColumnsLength = ref(0)\n  const fixedLeafColumnsLength = ref(0)\n  const rightFixedLeafColumnsLength = ref(0)\n  const isAllSelected = ref(false)\n  const selection: Ref<T[]> = ref([])\n  const reserveSelection = ref(false)\n  const selectOnIndeterminate = ref(false)\n  const selectable: Ref<((row: T, index: number) => boolean) | null> = ref(null)\n  const filters: Ref<StoreFilter> = ref({})\n  const filteredData: Ref<T[] | null> = ref(null)\n  const sortingColumn: Ref<TableColumnCtx<T> | null> = ref(null)\n  const sortProp: Ref<string | null> = ref(null)\n  const sortOrder: Ref<string | number | null> = ref(null)\n  const hoverRow: Ref<T | null> = ref(null)\n\n  const selectedMap = computed(() => {\n    return rowKey.value ? getKeysMap(selection.value, rowKey.value) : undefined\n  })\n\n  watch(\n    data,\n    () => {\n      if (instance.state) {\n        scheduleLayout(false)\n        const needUpdateFixed = instance.props.tableLayout === 'auto'\n        if (needUpdateFixed) {\n          instance.refs.tableHeaderRef?.updateFixedColumnStyle()\n        }\n      }\n    },\n    {\n      deep: true,\n    }\n  )\n\n  // 检查 rowKey 是否存在\n  const assertRowKey = () => {\n    if (!rowKey.value) throw new Error('[ElTable] prop row-key is required')\n  }\n\n  // 更新 fixed\n  const updateChildFixed = (column: TableColumnCtx<T>) => {\n    column.children?.forEach((childColumn) => {\n      childColumn.fixed = column.fixed\n      updateChildFixed(childColumn)\n    })\n  }\n\n  // 更新列\n  const updateColumns = () => {\n    _columns.value.forEach((column) => {\n      updateChildFixed(column)\n    })\n    fixedColumns.value = _columns.value.filter((column) =>\n      [true, 'left'].includes(column.fixed)\n    )\n\n    const selectColumn = _columns.value.find(\n      (column) => column.type === 'selection'\n    )\n\n    let selectColFixLeft: boolean\n    if (\n      selectColumn &&\n      selectColumn.fixed !== 'right' &&\n      !fixedColumns.value.includes(selectColumn)\n    ) {\n      const selectColumnIndex = _columns.value.indexOf(selectColumn)\n      if (selectColumnIndex === 0 && fixedColumns.value.length) {\n        fixedColumns.value.unshift(selectColumn)\n        selectColFixLeft = true\n      }\n    }\n\n    rightFixedColumns.value = _columns.value.filter(\n      (column) => column.fixed === 'right'\n    )\n\n    const notFixedColumns = _columns.value.filter(\n      (column) =>\n        (selectColFixLeft ? column.type !== 'selection' : true) && !column.fixed\n    )\n\n    originColumns.value = Array.from(fixedColumns.value)\n      .concat(notFixedColumns)\n      .concat(rightFixedColumns.value)\n    const leafColumns = doFlattenColumns(notFixedColumns)\n    const fixedLeafColumns = doFlattenColumns(fixedColumns.value)\n    const rightFixedLeafColumns = doFlattenColumns(rightFixedColumns.value)\n\n    leafColumnsLength.value = leafColumns.length\n    fixedLeafColumnsLength.value = fixedLeafColumns.length\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns.length\n\n    columns.value = Array.from(fixedLeafColumns)\n      .concat(leafColumns)\n      .concat(rightFixedLeafColumns)\n    isComplex.value =\n      fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0\n  }\n\n  // 更新 DOM\n  const scheduleLayout = (needUpdateColumns?: boolean, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns()\n    }\n    if (immediate) {\n      instance.state.doLayout()\n    } else {\n      instance.state.debouncedUpdateLayout()\n    }\n  }\n\n  // 选择\n  const isSelected = (row: T) => {\n    if (selectedMap.value) {\n      return !!selectedMap.value[getRowIdentity(row, rowKey.value)]\n    } else {\n      return selection.value.includes(row)\n    }\n  }\n\n  const clearSelection = () => {\n    isAllSelected.value = false\n    const oldSelection = selection.value\n    selection.value = []\n    if (oldSelection.length) {\n      instance.emit('selection-change', [])\n    }\n  }\n\n  const cleanSelection = () => {\n    let deleted\n    if (rowKey.value) {\n      deleted = []\n      const childrenKey = instance?.store?.states?.childrenColumnName.value\n      const dataMap = getKeysMap(data.value, rowKey.value, true, childrenKey)\n      for (const key in selectedMap.value) {\n        if (hasOwn(selectedMap.value, key) && !dataMap[key]) {\n          deleted.push(selectedMap.value[key].row)\n        }\n      }\n    } else {\n      deleted = selection.value.filter((item) => !data.value.includes(item))\n    }\n    if (deleted.length) {\n      const newSelection = selection.value.filter(\n        (item) => !deleted.includes(item)\n      )\n      selection.value = newSelection\n      instance.emit('selection-change', newSelection.slice())\n    }\n  }\n\n  const getSelectionRows = () => {\n    return (selection.value || []).slice()\n  }\n\n  const toggleRowSelection = (\n    row: T,\n    selected?: boolean,\n    emitChange = true,\n    ignoreSelectable = false\n  ) => {\n    const treeProps = {\n      children: instance?.store?.states?.childrenColumnName.value,\n      checkStrictly: instance?.store?.states?.checkStrictly.value,\n    }\n    const changed = toggleRowStatus(\n      selection.value,\n      row,\n      selected,\n      treeProps,\n      ignoreSelectable ? undefined : selectable.value,\n      data.value.indexOf(row),\n      rowKey.value\n    )\n    if (changed) {\n      const newSelection = (selection.value || []).slice()\n      // 调用 API 修改选中值，不触发 select 事件\n      if (emitChange) {\n        instance.emit('select', newSelection, row)\n      }\n      instance.emit('selection-change', newSelection)\n    }\n  }\n\n  const _toggleAllSelection = () => {\n    // when only some rows are selected (but not all), select or deselect all of them\n    // depending on the value of selectOnIndeterminate\n    const value = selectOnIndeterminate.value\n      ? !isAllSelected.value\n      : !(isAllSelected.value || selection.value.length)\n    isAllSelected.value = value\n\n    let selectionChanged = false\n    let childrenCount = 0\n    const rowKey = instance?.store?.states?.rowKey.value\n    const { childrenColumnName } = instance.store.states\n    const treeProps = {\n      children: childrenColumnName.value,\n      checkStrictly: false, // Disable checkStrictly when selecting all\n    }\n\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount\n      if (\n        toggleRowStatus(\n          selection.value,\n          row,\n          value,\n          treeProps,\n          selectable.value,\n          rowIndex,\n          rowKey\n        )\n      ) {\n        selectionChanged = true\n      }\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey))\n    })\n\n    if (selectionChanged) {\n      instance.emit(\n        'selection-change',\n        selection.value ? selection.value.slice() : []\n      )\n    }\n    instance.emit('select-all', (selection.value || []).slice())\n  }\n\n  const updateAllSelected = () => {\n    // data 为 null 时，解构时的默认值会被忽略\n    if (data.value?.length === 0) {\n      isAllSelected.value = false\n      return\n    }\n\n    const { childrenColumnName } = instance.store.states\n    let rowIndex = 0\n    let selectedCount = 0\n\n    const checkSelectedStatus = (data: T[]) => {\n      for (const row of data) {\n        const isRowSelectable =\n          selectable.value && selectable.value.call(null, row, rowIndex)\n\n        if (!isSelected(row)) {\n          if (!selectable.value || isRowSelectable) {\n            return false\n          }\n        } else {\n          selectedCount++\n        }\n        rowIndex++\n\n        if (\n          row[childrenColumnName.value]?.length &&\n          !checkSelectedStatus(row[childrenColumnName.value])\n        ) {\n          return false\n        }\n      }\n      return true\n    }\n\n    const isAllSelected_ = checkSelectedStatus(data.value || [])\n    isAllSelected.value = selectedCount === 0 ? false : isAllSelected_\n  }\n\n  const getChildrenCount = (rowKey: string) => {\n    if (!instance || !instance.store) return 0\n    const { treeData } = instance.store.states\n    let count = 0\n    const children = treeData.value[rowKey]?.children\n    if (children) {\n      count += children.length\n      children.forEach((childKey) => {\n        count += getChildrenCount(childKey)\n      })\n    }\n    return count\n  }\n\n  // 过滤与排序\n  const updateFilters = (column: TableColumnCtx<T>, values: string[]) => {\n    const filters_: Record<string, string[]> = {}\n    ensureArray(column).forEach((col) => {\n      filters.value[col.id] = values\n      filters_[col.columnKey || col.id] = values\n    })\n    return filters_\n  }\n\n  const updateSort = (\n    column: TableColumnCtx<T> | null,\n    prop: string | null,\n    order: TableSortOrder | null\n  ) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null\n    }\n    sortingColumn.value = column\n    sortProp.value = prop\n    sortOrder.value = order\n  }\n\n  const execFilter = () => {\n    let sourceData = unref(_data)\n    Object.keys(filters.value).forEach((columnId) => {\n      const values = filters.value[columnId]\n      if (!values || values.length === 0) return\n      const column = getColumnById(\n        {\n          columns: columns.value,\n        },\n        columnId\n      )\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter((row) => {\n          return values.some((value) =>\n            column.filterMethod.call(null, value, row, column)\n          )\n        })\n      }\n    })\n    filteredData.value = sourceData\n  }\n\n  const execSort = () => {\n    data.value = sortData(filteredData.value ?? [], {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value,\n    })\n  }\n\n  // 根据 filters 与 sort 去过滤 data\n  const execQuery = (ignore: { filter: boolean } | undefined = undefined) => {\n    if (!ignore?.filter) {\n      execFilter()\n    }\n    execSort()\n  }\n\n  const clearFilter = (columnKeys?: string[] | string) => {\n    const { tableHeaderRef } = instance.refs as TableRefs\n    if (!tableHeaderRef) return\n    const panels = Object.assign({}, tableHeaderRef.filterPanels)\n\n    const keys = Object.keys(panels)\n    if (!keys.length) return\n\n    if (isString(columnKeys)) {\n      columnKeys = [columnKeys]\n    }\n\n    if (isArray(columnKeys)) {\n      const columns_ = columnKeys.map((key) =>\n        getColumnByKey(\n          {\n            columns: columns.value,\n          },\n          key\n        )\n      )\n      keys.forEach((key) => {\n        const column = columns_.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n      instance.store.commit('filterChange', {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true,\n      })\n    } else {\n      keys.forEach((key) => {\n        const column = columns.value.find((col) => col.id === key)\n        if (column) {\n          column.filteredValue = []\n        }\n      })\n\n      filters.value = {}\n      instance.store.commit('filterChange', {\n        column: {},\n        values: [],\n        silent: true,\n      })\n    }\n  }\n\n  const clearSort = () => {\n    if (!sortingColumn.value) return\n\n    updateSort(null, null, null)\n    instance.store.commit('changeSortCondition', {\n      silent: true,\n    })\n  }\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded,\n  } = useExpand({\n    data,\n    rowKey,\n  })\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    updateTreeData,\n    updateKeyChildren,\n    loadOrToggle,\n    states: treeStates,\n  } = useTree({\n    data,\n    rowKey,\n  })\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData,\n  } = useCurrent({\n    data,\n    rowKey,\n  })\n  // 适配层，expand-row-keys 在 Expand 与 TreeTable 中都有使用\n  const setExpandRowKeysAdapter = (val: string[]) => {\n    // 这里会触发额外的计算，但为了兼容性，暂时这么做\n    setExpandRowKeys(val)\n    updateTreeExpandKeys(val)\n  }\n\n  // 展开行与 TreeTable 都要使用\n  const toggleRowExpansionAdapter = (row: T, expanded?: boolean) => {\n    const hasExpandColumn = columns.value.some(({ type }) => type === 'expand')\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded)\n    } else {\n      toggleTreeExpansion(row, expanded)\n    }\n  }\n\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    getSelectionRows,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null as (() => void) | null,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    updateTreeData,\n    updateKeyChildren,\n    states: {\n      tableSize,\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      updateOrderFns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow,\n      ...expandStates,\n      ...treeStates,\n      ...currentData,\n    },\n  }\n}\n\nexport default useWatcher\n"],"names":["_a","leafColumns","fixedLeafColumns","rightFixedLeafColumns","rowKey","data","ensureArray"],"mappings":";;;;;;;;AAwBA,MAAM,QAAA,GAAW,CACf,IAAA,EACA,MAKG,KAAA;AACH,EAAA,MAAM,gBAAgB,MAAO,CAAA,aAAA,CAAA;AAC7B,EAAA,IAAI,CAAC,aAAA,IAAiB,QAAS,CAAA,aAAA,CAAc,QAAQ,CAAG,EAAA;AACtD,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AACA,EAAO,OAAA,OAAA;AAAA,IACL,IAAA;AAAA,IACA,MAAO,CAAA,QAAA;AAAA,IACP,MAAO,CAAA,SAAA;AAAA,IACP,aAAc,CAAA,UAAA;AAAA,IACd,aAAc,CAAA,MAAA;AAAA,GAChB,CAAA;AACF,CAAA,CAAA;AAEA,MAAM,gBAAA,GAAmB,CACvB,OACG,KAAA;AACH,EAAA,MAAM,SAA8B,EAAC,CAAA;AACrC,EAAQ,OAAA,CAAA,OAAA,CAAQ,CAAC,MAAW,KAAA;AAC1B,IAAA,IAAI,MAAO,CAAA,QAAA,IAAY,MAAO,CAAA,QAAA,CAAS,SAAS,CAAG,EAAA;AAEjD,MAAA,MAAA,CAAO,KAAK,KAAM,CAAA,MAAA,EAAQ,gBAAiB,CAAA,MAAA,CAAO,QAAQ,CAAC,CAAA,CAAA;AAAA,KACtD,MAAA;AACL,MAAA,MAAA,CAAO,KAAK,MAAM,CAAA,CAAA;AAAA,KACpB;AAAA,GACD,CAAA,CAAA;AACD,EAAO,OAAA,MAAA,CAAA;AACT,CAAA,CAAA;AAEA,SAAS,UAAmC,GAAA;AA5D5C,EAAA,IAAA,EAAA,CAAA;AA6DE,EAAA,MAAM,WAAW,kBAAmB,EAAA,CAAA;AACpC,EAAM,MAAA,EAAE,MAAM,SAAU,EAAA,GAAI,QAAO,EAAS,GAAA,QAAA,CAAA,KAAA,KAAT,mBAAgB,MAAa,CAAA,CAAA;AAChE,EAAM,MAAA,MAAA,GAA6B,IAAI,IAAI,CAAA,CAAA;AAC3C,EAAM,MAAA,IAAA,GAAiB,GAAI,CAAA,EAAE,CAAA,CAAA;AAC7B,EAAM,MAAA,KAAA,GAAkB,GAAI,CAAA,EAAE,CAAA,CAAA;AAC9B,EAAM,MAAA,SAAA,GAAY,IAAI,KAAK,CAAA,CAAA;AAC3B,EAAM,MAAA,QAAA,GAAqC,GAAI,CAAA,EAAE,CAAA,CAAA;AACjD,EAAM,MAAA,aAAA,GAA0C,GAAI,CAAA,EAAE,CAAA,CAAA;AACtD,EAAM,MAAA,OAAA,GAAoC,GAAI,CAAA,EAAE,CAAA,CAAA;AAChD,EAAM,MAAA,YAAA,GAAyC,GAAI,CAAA,EAAE,CAAA,CAAA;AACrD,EAAM,MAAA,iBAAA,GAA8C,GAAI,CAAA,EAAE,CAAA,CAAA;AAC1D,EAAM,MAAA,WAAA,GAAwC,GAAI,CAAA,EAAE,CAAA,CAAA;AACpD,EAAM,MAAA,gBAAA,GAA6C,GAAI,CAAA,EAAE,CAAA,CAAA;AACzD,EAAM,MAAA,qBAAA,GAAkD,GAAI,CAAA,EAAE,CAAA,CAAA;AAC9D,EAAA,MAAM,iBAAiC,EAAC,CAAA;AACxC,EAAM,MAAA,iBAAA,GAAoB,IAAI,CAAC,CAAA,CAAA;AAC/B,EAAM,MAAA,sBAAA,GAAyB,IAAI,CAAC,CAAA,CAAA;AACpC,EAAM,MAAA,2BAAA,GAA8B,IAAI,CAAC,CAAA,CAAA;AACzC,EAAM,MAAA,aAAA,GAAgB,IAAI,KAAK,CAAA,CAAA;AAC/B,EAAM,MAAA,SAAA,GAAsB,GAAI,CAAA,EAAE,CAAA,CAAA;AAClC,EAAM,MAAA,gBAAA,GAAmB,IAAI,KAAK,CAAA,CAAA;AAClC,EAAM,MAAA,qBAAA,GAAwB,IAAI,KAAK,CAAA,CAAA;AACvC,EAAM,MAAA,UAAA,GAA+D,IAAI,IAAI,CAAA,CAAA;AAC7E,EAAM,MAAA,OAAA,GAA4B,GAAI,CAAA,EAAE,CAAA,CAAA;AACxC,EAAM,MAAA,YAAA,GAAgC,IAAI,IAAI,CAAA,CAAA;AAC9C,EAAM,MAAA,aAAA,GAA+C,IAAI,IAAI,CAAA,CAAA;AAC7D,EAAM,MAAA,QAAA,GAA+B,IAAI,IAAI,CAAA,CAAA;AAC7C,EAAM,MAAA,SAAA,GAAyC,IAAI,IAAI,CAAA,CAAA;AACvD,EAAM,MAAA,QAAA,GAA0B,IAAI,IAAI,CAAA,CAAA;AAExC,EAAM,MAAA,WAAA,GAAc,SAAS,MAAM;AACjC,IAAA,OAAO,OAAO,KAAQ,GAAA,UAAA,CAAW,UAAU,KAAO,EAAA,MAAA,CAAO,KAAK,CAAI,GAAA,KAAA,CAAA,CAAA;AAAA,GACnE,CAAA,CAAA;AAED,EAAA,KAAA;AAAA,IACE,IAAA;AAAA,IACA,MAAM;AAjGV,MAAAA,IAAAA,GAAAA,CAAAA;AAkGM,MAAA,IAAI,SAAS,KAAO,EAAA;AAClB,QAAA,cAAA,CAAe,KAAK,CAAA,CAAA;AACpB,QAAM,MAAA,eAAA,GAAkB,QAAS,CAAA,KAAA,CAAM,WAAgB,KAAA,MAAA,CAAA;AACvD,QAAA,IAAI,eAAiB,EAAA;AACnB,UAAA,CAAAA,GAAA,GAAA,QAAA,CAAS,IAAK,CAAA,cAAA,KAAd,gBAAAA,GAA8B,CAAA,sBAAA,EAAA,CAAA;AAAA,SAChC;AAAA,OACF;AAAA,KACF;AAAA,IACA;AAAA,MACE,IAAM,EAAA,IAAA;AAAA,KACR;AAAA,GACF,CAAA;AAGA,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,IAAI,CAAC,MAAO,CAAA,KAAA;AAAO,MAAM,MAAA,IAAI,MAAM,oCAAoC,CAAA,CAAA;AAAA,GACzE,CAAA;AAGA,EAAM,MAAA,gBAAA,GAAmB,CAAC,MAA8B,KAAA;AArH1D,IAAAA,IAAAA,GAAAA,CAAAA;AAsHI,IAAA,CAAAA,MAAA,MAAO,CAAA,QAAA,KAAP,gBAAAA,GAAiB,CAAA,OAAA,CAAQ,CAAC,WAAgB,KAAA;AACxC,MAAA,WAAA,CAAY,QAAQ,MAAO,CAAA,KAAA,CAAA;AAC3B,MAAA,gBAAA,CAAiB,WAAW,CAAA,CAAA;AAAA,KAC9B,CAAA,CAAA;AAAA,GACF,CAAA;AAGA,EAAA,MAAM,gBAAgB,MAAM;AAC1B,IAAS,QAAA,CAAA,KAAA,CAAM,OAAQ,CAAA,CAAC,MAAW,KAAA;AACjC,MAAA,gBAAA,CAAiB,MAAM,CAAA,CAAA;AAAA,KACxB,CAAA,CAAA;AACD,IAAa,YAAA,CAAA,KAAA,GAAQ,SAAS,KAAM,CAAA,MAAA;AAAA,MAAO,CAAC,WAC1C,CAAC,IAAA,EAAM,MAAM,CAAE,CAAA,QAAA,CAAS,OAAO,KAAK,CAAA;AAAA,KACtC,CAAA;AAEA,IAAM,MAAA,YAAA,GAAe,SAAS,KAAM,CAAA,IAAA;AAAA,MAClC,CAAC,MAAW,KAAA,MAAA,CAAO,IAAS,KAAA,WAAA;AAAA,KAC9B,CAAA;AAEA,IAAI,IAAA,gBAAA,CAAA;AACJ,IACE,IAAA,YAAA,IACA,aAAa,KAAU,KAAA,OAAA,IACvB,CAAC,YAAa,CAAA,KAAA,CAAM,QAAS,CAAA,YAAY,CACzC,EAAA;AACA,MAAA,MAAM,iBAAoB,GAAA,QAAA,CAAS,KAAM,CAAA,OAAA,CAAQ,YAAY,CAAA,CAAA;AAC7D,MAAA,IAAI,iBAAsB,KAAA,CAAA,IAAK,YAAa,CAAA,KAAA,CAAM,MAAQ,EAAA;AACxD,QAAa,YAAA,CAAA,KAAA,CAAM,QAAQ,YAAY,CAAA,CAAA;AACvC,QAAmB,gBAAA,GAAA,IAAA,CAAA;AAAA,OACrB;AAAA,KACF;AAEA,IAAkB,iBAAA,CAAA,KAAA,GAAQ,SAAS,KAAM,CAAA,MAAA;AAAA,MACvC,CAAC,MAAW,KAAA,MAAA,CAAO,KAAU,KAAA,OAAA;AAAA,KAC/B,CAAA;AAEA,IAAM,MAAA,eAAA,GAAkB,SAAS,KAAM,CAAA,MAAA;AAAA,MACrC,CAAC,YACE,gBAAmB,GAAA,MAAA,CAAO,SAAS,WAAc,GAAA,IAAA,KAAS,CAAC,MAAO,CAAA,KAAA;AAAA,KACvE,CAAA;AAEA,IAAc,aAAA,CAAA,KAAA,GAAQ,KAAM,CAAA,IAAA,CAAK,YAAa,CAAA,KAAK,CAChD,CAAA,MAAA,CAAO,eAAe,CAAA,CACtB,MAAO,CAAA,iBAAA,CAAkB,KAAK,CAAA,CAAA;AACjC,IAAMC,MAAAA,YAAAA,GAAc,iBAAiB,eAAe,CAAA,CAAA;AACpD,IAAMC,MAAAA,iBAAAA,GAAmB,gBAAiB,CAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAC5D,IAAMC,MAAAA,sBAAAA,GAAwB,gBAAiB,CAAA,iBAAA,CAAkB,KAAK,CAAA,CAAA;AAEtE,IAAA,iBAAA,CAAkB,QAAQF,YAAY,CAAA,MAAA,CAAA;AACtC,IAAA,sBAAA,CAAuB,QAAQC,iBAAiB,CAAA,MAAA,CAAA;AAChD,IAAA,2BAAA,CAA4B,QAAQC,sBAAsB,CAAA,MAAA,CAAA;AAE1D,IAAQ,OAAA,CAAA,KAAA,GAAQ,MAAM,IAAKD,CAAAA,iBAAgB,EACxC,MAAOD,CAAAA,YAAW,CAClB,CAAA,MAAA,CAAOE,sBAAqB,CAAA,CAAA;AAC/B,IAAA,SAAA,CAAU,QACR,YAAa,CAAA,KAAA,CAAM,SAAS,CAAK,IAAA,iBAAA,CAAkB,MAAM,MAAS,GAAA,CAAA,CAAA;AAAA,GACtE,CAAA;AAGA,EAAA,MAAM,cAAiB,GAAA,CAAC,iBAA6B,EAAA,SAAA,GAAY,KAAU,KAAA;AACzE,IAAA,IAAI,iBAAmB,EAAA;AACrB,MAAc,aAAA,EAAA,CAAA;AAAA,KAChB;AACA,IAAA,IAAI,SAAW,EAAA;AACb,MAAA,QAAA,CAAS,MAAM,QAAS,EAAA,CAAA;AAAA,KACnB,MAAA;AACL,MAAA,QAAA,CAAS,MAAM,qBAAsB,EAAA,CAAA;AAAA,KACvC;AAAA,GACF,CAAA;AAGA,EAAM,MAAA,UAAA,GAAa,CAAC,GAAW,KAAA;AAC7B,IAAA,IAAI,YAAY,KAAO,EAAA;AACrB,MAAA,OAAO,CAAC,CAAC,WAAA,CAAY,MAAM,cAAe,CAAA,GAAA,EAAK,OAAO,KAAK,CAAA,CAAA,CAAA;AAAA,KACtD,MAAA;AACL,MAAO,OAAA,SAAA,CAAU,KAAM,CAAA,QAAA,CAAS,GAAG,CAAA,CAAA;AAAA,KACrC;AAAA,GACF,CAAA;AAEA,EAAA,MAAM,iBAAiB,MAAM;AAC3B,IAAA,aAAA,CAAc,KAAQ,GAAA,KAAA,CAAA;AACtB,IAAA,MAAM,eAAe,SAAU,CAAA,KAAA,CAAA;AAC/B,IAAA,SAAA,CAAU,QAAQ,EAAC,CAAA;AACnB,IAAA,IAAI,aAAa,MAAQ,EAAA;AACvB,MAAS,QAAA,CAAA,IAAA,CAAK,kBAAoB,EAAA,EAAE,CAAA,CAAA;AAAA,KACtC;AAAA,GACF,CAAA;AAEA,EAAA,MAAM,iBAAiB,MAAM;AA/M/B,IAAA,IAAAH,GAAA,EAAA,EAAA,CAAA;AAgNI,IAAI,IAAA,OAAA,CAAA;AACJ,IAAA,IAAI,OAAO,KAAO,EAAA;AAChB,MAAA,OAAA,GAAU,EAAC,CAAA;AACX,MAAM,MAAA,WAAA,GAAA,CAAc,MAAAA,GAAA,GAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAU,UAAV,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,GAAAA,CAAiB,MAAjB,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAyB,kBAAmB,CAAA,KAAA,CAAA;AAChE,MAAA,MAAM,UAAU,UAAW,CAAA,IAAA,CAAK,OAAO,MAAO,CAAA,KAAA,EAAO,MAAM,WAAW,CAAA,CAAA;AACtE,MAAW,KAAA,MAAA,GAAA,IAAO,YAAY,KAAO,EAAA;AACnC,QAAA,IAAI,OAAO,WAAY,CAAA,KAAA,EAAO,GAAG,CAAK,IAAA,CAAC,QAAQ,GAAM,CAAA,EAAA;AACnD,UAAA,OAAA,CAAQ,IAAK,CAAA,WAAA,CAAY,KAAM,CAAA,GAAA,CAAA,CAAK,GAAG,CAAA,CAAA;AAAA,SACzC;AAAA,OACF;AAAA,KACK,MAAA;AACL,MAAU,OAAA,GAAA,SAAA,CAAU,KAAM,CAAA,MAAA,CAAO,CAAC,IAAA,KAAS,CAAC,IAAK,CAAA,KAAA,CAAM,QAAS,CAAA,IAAI,CAAC,CAAA,CAAA;AAAA,KACvE;AACA,IAAA,IAAI,QAAQ,MAAQ,EAAA;AAClB,MAAM,MAAA,YAAA,GAAe,UAAU,KAAM,CAAA,MAAA;AAAA,QACnC,CAAC,IAAA,KAAS,CAAC,OAAA,CAAQ,SAAS,IAAI,CAAA;AAAA,OAClC,CAAA;AACA,MAAA,SAAA,CAAU,KAAQ,GAAA,YAAA,CAAA;AAClB,MAAA,QAAA,CAAS,IAAK,CAAA,kBAAA,EAAoB,YAAa,CAAA,KAAA,EAAO,CAAA,CAAA;AAAA,KACxD;AAAA,GACF,CAAA;AAEA,EAAA,MAAM,mBAAmB,MAAM;AAC7B,IAAA,OAAA,CAAQ,SAAU,CAAA,KAAA,IAAS,EAAC,EAAG,KAAM,EAAA,CAAA;AAAA,GACvC,CAAA;AAEA,EAAA,MAAM,qBAAqB,CACzB,GAAA,EACA,UACA,UAAa,GAAA,IAAA,EACb,mBAAmB,KAChB,KAAA;AA/OP,IAAA,IAAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAgPI,IAAA,MAAM,SAAY,GAAA;AAAA,MAChB,QAAA,EAAA,CAAU,MAAAA,GAAA,GAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAU,UAAV,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,GAAAA,CAAiB,MAAjB,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAyB,kBAAmB,CAAA,KAAA;AAAA,MACtD,gBAAe,EAAU,GAAA,CAAA,EAAA,GAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAA,KAAA,KAAV,IAAiB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAA,KAAjB,mBAAyB,aAAc,CAAA,KAAA;AAAA,KACxD,CAAA;AACA,IAAA,MAAM,OAAU,GAAA,eAAA;AAAA,MACd,SAAU,CAAA,KAAA;AAAA,MACV,GAAA;AAAA,MACA,QAAA;AAAA,MACA,SAAA;AAAA,MACA,gBAAA,GAAmB,SAAY,UAAW,CAAA,KAAA;AAAA,MAC1C,IAAA,CAAK,KAAM,CAAA,OAAA,CAAQ,GAAG,CAAA;AAAA,MACtB,MAAO,CAAA,KAAA;AAAA,KACT,CAAA;AACA,IAAA,IAAI,OAAS,EAAA;AACX,MAAA,MAAM,YAAgB,GAAA,CAAA,SAAA,CAAU,KAAS,IAAA,IAAI,KAAM,EAAA,CAAA;AAEnD,MAAA,IAAI,UAAY,EAAA;AACd,QAAS,QAAA,CAAA,IAAA,CAAK,QAAU,EAAA,YAAA,EAAc,GAAG,CAAA,CAAA;AAAA,OAC3C;AACA,MAAS,QAAA,CAAA,IAAA,CAAK,oBAAoB,YAAY,CAAA,CAAA;AAAA,KAChD;AAAA,GACF,CAAA;AAEA,EAAA,MAAM,sBAAsB,MAAM;AAvQpC,IAAA,IAAAA,GAAA,EAAA,EAAA,CAAA;AA0QI,IAAM,MAAA,KAAA,GAAQ,qBAAsB,CAAA,KAAA,GAChC,CAAC,aAAA,CAAc,QACf,EAAE,aAAA,CAAc,KAAS,IAAA,SAAA,CAAU,KAAM,CAAA,MAAA,CAAA,CAAA;AAC7C,IAAA,aAAA,CAAc,KAAQ,GAAA,KAAA,CAAA;AAEtB,IAAA,IAAI,gBAAmB,GAAA,KAAA,CAAA;AACvB,IAAA,IAAI,aAAgB,GAAA,CAAA,CAAA;AACpB,IAAMI,MAAAA,OAAAA,GAAAA,CAAS,MAAAJ,GAAA,GAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAU,UAAV,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,GAAAA,CAAiB,MAAjB,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAyB,MAAO,CAAA,KAAA,CAAA;AAC/C,IAAA,MAAM,EAAE,kBAAA,EAAuB,GAAA,QAAA,CAAS,KAAM,CAAA,MAAA,CAAA;AAC9C,IAAA,MAAM,SAAY,GAAA;AAAA,MAChB,UAAU,kBAAmB,CAAA,KAAA;AAAA,MAC7B,aAAe,EAAA,KAAA;AAAA,KACjB,CAAA;AAEA,IAAA,IAAA,CAAK,KAAM,CAAA,OAAA,CAAQ,CAAC,GAAA,EAAK,KAAU,KAAA;AACjC,MAAA,MAAM,WAAW,KAAQ,GAAA,aAAA,CAAA;AACzB,MACE,IAAA,eAAA;AAAA,QACE,SAAU,CAAA,KAAA;AAAA,QACV,GAAA;AAAA,QACA,KAAA;AAAA,QACA,SAAA;AAAA,QACA,UAAW,CAAA,KAAA;AAAA,QACX,QAAA;AAAA,QACAI,OAAAA;AAAA,OAEF,EAAA;AACA,QAAmB,gBAAA,GAAA,IAAA,CAAA;AAAA,OACrB;AACA,MAAA,aAAA,IAAiB,gBAAiB,CAAA,cAAA,CAAe,GAAKA,EAAAA,OAAM,CAAC,CAAA,CAAA;AAAA,KAC9D,CAAA,CAAA;AAED,IAAA,IAAI,gBAAkB,EAAA;AACpB,MAAS,QAAA,CAAA,IAAA;AAAA,QACP,kBAAA;AAAA,QACA,UAAU,KAAQ,GAAA,SAAA,CAAU,KAAM,CAAA,KAAA,KAAU,EAAC;AAAA,OAC/C,CAAA;AAAA,KACF;AACA,IAAA,QAAA,CAAS,KAAK,YAAe,EAAA,CAAA,SAAA,CAAU,SAAS,EAAC,EAAG,OAAO,CAAA,CAAA;AAAA,GAC7D,CAAA;AAEA,EAAA,MAAM,oBAAoB,MAAM;AAnTlC,IAAAJ,IAAAA,GAAAA,CAAAA;AAqTI,IAAA,IAAA,CAAA,CAAIA,MAAA,IAAK,CAAA,KAAA,KAAL,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,GAAAA,CAAY,YAAW,CAAG,EAAA;AAC5B,MAAA,aAAA,CAAc,KAAQ,GAAA,KAAA,CAAA;AACtB,MAAA,OAAA;AAAA,KACF;AAEA,IAAA,MAAM,EAAE,kBAAA,EAAuB,GAAA,QAAA,CAAS,KAAM,CAAA,MAAA,CAAA;AAC9C,IAAA,IAAI,QAAW,GAAA,CAAA,CAAA;AACf,IAAA,IAAI,aAAgB,GAAA,CAAA,CAAA;AAEpB,IAAM,MAAA,mBAAA,GAAsB,CAACK,KAAc,KAAA;AA9T/C,MAAAL,IAAAA,GAAAA,CAAAA;AA+TM,MAAA,KAAA,MAAW,OAAOK,KAAM,EAAA;AACtB,QAAM,MAAA,eAAA,GACJ,WAAW,KAAS,IAAA,UAAA,CAAW,MAAM,IAAK,CAAA,IAAA,EAAM,KAAK,QAAQ,CAAA,CAAA;AAE/D,QAAI,IAAA,CAAC,UAAW,CAAA,GAAG,CAAG,EAAA;AACpB,UAAI,IAAA,CAAC,UAAW,CAAA,KAAA,IAAS,eAAiB,EAAA;AACxC,YAAO,OAAA,KAAA,CAAA;AAAA,WACT;AAAA,SACK,MAAA;AACL,UAAA,aAAA,EAAA,CAAA;AAAA,SACF;AACA,QAAA,QAAA,EAAA,CAAA;AAEA,QAAA,IAAA,CAAA,CACEL,GAAA,GAAA,GAAA,CAAI,kBAAmB,CAAA,KAAA,CAAA,KAAvB,IAAAA,GAAAA,KAAAA,CAAAA,GAAAA,GAAAA,CAA+B,MAC/B,KAAA,CAAC,mBAAoB,CAAA,GAAA,CAAI,kBAAmB,CAAA,KAAA,CAAM,CAClD,EAAA;AACA,UAAO,OAAA,KAAA,CAAA;AAAA,SACT;AAAA,OACF;AACA,MAAO,OAAA,IAAA,CAAA;AAAA,KACT,CAAA;AAEA,IAAA,MAAM,cAAiB,GAAA,mBAAA,CAAoB,IAAK,CAAA,KAAA,IAAS,EAAE,CAAA,CAAA;AAC3D,IAAc,aAAA,CAAA,KAAA,GAAQ,aAAkB,KAAA,CAAA,GAAI,KAAQ,GAAA,cAAA,CAAA;AAAA,GACtD,CAAA;AAEA,EAAM,MAAA,gBAAA,GAAmB,CAACI,OAAmB,KAAA;AA1V/C,IAAAJ,IAAAA,GAAAA,CAAAA;AA2VI,IAAI,IAAA,CAAC,QAAY,IAAA,CAAC,QAAS,CAAA,KAAA;AAAO,MAAO,OAAA,CAAA,CAAA;AACzC,IAAA,MAAM,EAAE,QAAA,EAAa,GAAA,QAAA,CAAS,KAAM,CAAA,MAAA,CAAA;AACpC,IAAA,IAAI,KAAQ,GAAA,CAAA,CAAA;AACZ,IAAA,MAAM,YAAWA,GAAA,GAAA,QAAA,CAAS,KAAMI,CAAAA,OAAAA,CAAAA,KAAf,gBAAAJ,GAAwB,CAAA,QAAA,CAAA;AACzC,IAAA,IAAI,QAAU,EAAA;AACZ,MAAA,KAAA,IAAS,QAAS,CAAA,MAAA,CAAA;AAClB,MAAS,QAAA,CAAA,OAAA,CAAQ,CAAC,QAAa,KAAA;AAC7B,QAAA,KAAA,IAAS,iBAAiB,QAAQ,CAAA,CAAA;AAAA,OACnC,CAAA,CAAA;AAAA,KACH;AACA,IAAO,OAAA,KAAA,CAAA;AAAA,GACT,CAAA;AAGA,EAAM,MAAA,aAAA,GAAgB,CAAC,MAAA,EAA2B,MAAqB,KAAA;AACrE,IAAA,MAAM,WAAqC,EAAC,CAAA;AAC5C,IAAAM,SAAA,CAAY,MAAM,CAAA,CAAE,OAAQ,CAAA,CAAC,GAAQ,KAAA;AACnC,MAAQ,OAAA,CAAA,KAAA,CAAM,IAAI,EAAM,CAAA,GAAA,MAAA,CAAA;AACxB,MAAS,QAAA,CAAA,GAAA,CAAI,SAAa,IAAA,GAAA,CAAI,EAAM,CAAA,GAAA,MAAA,CAAA;AAAA,KACrC,CAAA,CAAA;AACD,IAAO,OAAA,QAAA,CAAA;AAAA,GACT,CAAA;AAEA,EAAA,MAAM,UAAa,GAAA,CACjB,MACA,EAAA,IAAA,EACA,KACG,KAAA;AACH,IAAA,IAAI,aAAc,CAAA,KAAA,IAAS,aAAc,CAAA,KAAA,KAAU,MAAQ,EAAA;AACzD,MAAA,aAAA,CAAc,MAAM,KAAQ,GAAA,IAAA,CAAA;AAAA,KAC9B;AACA,IAAA,aAAA,CAAc,KAAQ,GAAA,MAAA,CAAA;AACtB,IAAA,QAAA,CAAS,KAAQ,GAAA,IAAA,CAAA;AACjB,IAAA,SAAA,CAAU,KAAQ,GAAA,KAAA,CAAA;AAAA,GACpB,CAAA;AAEA,EAAA,MAAM,aAAa,MAAM;AACvB,IAAI,IAAA,UAAA,GAAa,MAAM,KAAK,CAAA,CAAA;AAC5B,IAAA,MAAA,CAAO,KAAK,OAAQ,CAAA,KAAK,CAAE,CAAA,OAAA,CAAQ,CAAC,QAAa,KAAA;AAC/C,MAAM,MAAA,MAAA,GAAS,QAAQ,KAAM,CAAA,QAAA,CAAA,CAAA;AAC7B,MAAI,IAAA,CAAC,MAAU,IAAA,MAAA,CAAO,MAAW,KAAA,CAAA;AAAG,QAAA,OAAA;AACpC,MAAA,MAAM,MAAS,GAAA,aAAA;AAAA,QACb;AAAA,UACE,SAAS,OAAQ,CAAA,KAAA;AAAA,SACnB;AAAA,QACA,QAAA;AAAA,OACF,CAAA;AACA,MAAI,IAAA,MAAA,IAAU,OAAO,YAAc,EAAA;AACjC,QAAa,UAAA,GAAA,UAAA,CAAW,MAAO,CAAA,CAAC,GAAQ,KAAA;AACtC,UAAA,OAAO,MAAO,CAAA,IAAA;AAAA,YAAK,CAAC,UAClB,MAAO,CAAA,YAAA,CAAa,KAAK,IAAM,EAAA,KAAA,EAAO,KAAK,MAAM,CAAA;AAAA,WACnD,CAAA;AAAA,SACD,CAAA,CAAA;AAAA,OACH;AAAA,KACD,CAAA,CAAA;AACD,IAAA,YAAA,CAAa,KAAQ,GAAA,UAAA,CAAA;AAAA,GACvB,CAAA;AAEA,EAAA,MAAM,WAAW,MAAM;AArZzB,IAAAN,IAAAA,GAAAA,CAAAA;AAsZI,IAAK,IAAA,CAAA,KAAA,GAAQ,UAASA,GAAA,GAAA,YAAA,CAAa,UAAb,IAAAA,GAAAA,GAAAA,GAAsB,EAAI,EAAA;AAAA,MAC9C,eAAe,aAAc,CAAA,KAAA;AAAA,MAC7B,UAAU,QAAS,CAAA,KAAA;AAAA,MACnB,WAAW,SAAU,CAAA,KAAA;AAAA,KACtB,CAAA,CAAA;AAAA,GACH,CAAA;AAGA,EAAM,MAAA,SAAA,GAAY,CAAC,MAAA,GAA0C,KAAc,CAAA,KAAA;AACzE,IAAI,IAAA,EAAC,iCAAQ,MAAQ,CAAA,EAAA;AACnB,MAAW,UAAA,EAAA,CAAA;AAAA,KACb;AACA,IAAS,QAAA,EAAA,CAAA;AAAA,GACX,CAAA;AAEA,EAAM,MAAA,WAAA,GAAc,CAAC,UAAmC,KAAA;AACtD,IAAM,MAAA,EAAE,cAAe,EAAA,GAAI,QAAS,CAAA,IAAA,CAAA;AACpC,IAAA,IAAI,CAAC,cAAA;AAAgB,MAAA,OAAA;AACrB,IAAA,MAAM,SAAS,MAAO,CAAA,MAAA,CAAO,EAAC,EAAG,eAAe,YAAY,CAAA,CAAA;AAE5D,IAAM,MAAA,IAAA,GAAO,MAAO,CAAA,IAAA,CAAK,MAAM,CAAA,CAAA;AAC/B,IAAA,IAAI,CAAC,IAAK,CAAA,MAAA;AAAQ,MAAA,OAAA;AAElB,IAAI,IAAA,QAAA,CAAS,UAAU,CAAG,EAAA;AACxB,MAAA,UAAA,GAAa,CAAC,UAAU,CAAA,CAAA;AAAA,KAC1B;AAEA,IAAI,IAAA,OAAA,CAAQ,UAAU,CAAG,EAAA;AACvB,MAAA,MAAM,WAAW,UAAW,CAAA,GAAA;AAAA,QAAI,CAAC,GAC/B,KAAA,cAAA;AAAA,UACE;AAAA,YACE,SAAS,OAAQ,CAAA,KAAA;AAAA,WACnB;AAAA,UACA,GAAA;AAAA,SACF;AAAA,OACF,CAAA;AACA,MAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,GAAQ,KAAA;AACpB,QAAA,MAAM,SAAS,QAAS,CAAA,IAAA,CAAK,CAAC,GAAQ,KAAA,GAAA,CAAI,OAAO,GAAG,CAAA,CAAA;AACpD,QAAA,IAAI,MAAQ,EAAA;AACV,UAAA,MAAA,CAAO,gBAAgB,EAAC,CAAA;AAAA,SAC1B;AAAA,OACD,CAAA,CAAA;AACD,MAAS,QAAA,CAAA,KAAA,CAAM,OAAO,cAAgB,EAAA;AAAA,QACpC,MAAQ,EAAA,QAAA;AAAA,QACR,QAAQ,EAAC;AAAA,QACT,MAAQ,EAAA,IAAA;AAAA,QACR,KAAO,EAAA,IAAA;AAAA,OACR,CAAA,CAAA;AAAA,KACI,MAAA;AACL,MAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,GAAQ,KAAA;AACpB,QAAM,MAAA,MAAA,GAAS,QAAQ,KAAM,CAAA,IAAA,CAAK,CAAC,GAAQ,KAAA,GAAA,CAAI,OAAO,GAAG,CAAA,CAAA;AACzD,QAAA,IAAI,MAAQ,EAAA;AACV,UAAA,MAAA,CAAO,gBAAgB,EAAC,CAAA;AAAA,SAC1B;AAAA,OACD,CAAA,CAAA;AAED,MAAA,OAAA,CAAQ,QAAQ,EAAC,CAAA;AACjB,MAAS,QAAA,CAAA,KAAA,CAAM,OAAO,cAAgB,EAAA;AAAA,QACpC,QAAQ,EAAC;AAAA,QACT,QAAQ,EAAC;AAAA,QACT,MAAQ,EAAA,IAAA;AAAA,OACT,CAAA,CAAA;AAAA,KACH;AAAA,GACF,CAAA;AAEA,EAAA,MAAM,YAAY,MAAM;AACtB,IAAA,IAAI,CAAC,aAAc,CAAA,KAAA;AAAO,MAAA,OAAA;AAE1B,IAAW,UAAA,CAAA,IAAA,EAAM,MAAM,IAAI,CAAA,CAAA;AAC3B,IAAS,QAAA,CAAA,KAAA,CAAM,OAAO,qBAAuB,EAAA;AAAA,MAC3C,MAAQ,EAAA,IAAA;AAAA,KACT,CAAA,CAAA;AAAA,GACH,CAAA;AACA,EAAM,MAAA;AAAA,IACJ,gBAAA;AAAA,IACA,kBAAA;AAAA,IACA,gBAAA;AAAA,IACA,MAAQ,EAAA,YAAA;AAAA,IACR,aAAA;AAAA,MACE,SAAU,CAAA;AAAA,IACZ,IAAA;AAAA,IACA,MAAA;AAAA,GACD,CAAA,CAAA;AACD,EAAM,MAAA;AAAA,IACJ,oBAAA;AAAA,IACA,mBAAA;AAAA,IACA,cAAA;AAAA,IACA,iBAAA;AAAA,IACA,YAAA;AAAA,IACA,MAAQ,EAAA,UAAA;AAAA,MACN,OAAQ,CAAA;AAAA,IACV,IAAA;AAAA,IACA,MAAA;AAAA,GACD,CAAA,CAAA;AACD,EAAM,MAAA;AAAA,IACJ,oBAAA;AAAA,IACA,gBAAA;AAAA,IACA,gBAAA;AAAA,IACA,MAAQ,EAAA,WAAA;AAAA,MACN,UAAW,CAAA;AAAA,IACb,IAAA;AAAA,IACA,MAAA;AAAA,GACD,CAAA,CAAA;AAED,EAAM,MAAA,uBAAA,GAA0B,CAAC,GAAkB,KAAA;AAEjD,IAAA,gBAAA,CAAiB,GAAG,CAAA,CAAA;AACpB,IAAA,oBAAA,CAAqB,GAAG,CAAA,CAAA;AAAA,GAC1B,CAAA;AAGA,EAAM,MAAA,yBAAA,GAA4B,CAAC,GAAA,EAAQ,QAAuB,KAAA;AAChE,IAAM,MAAA,eAAA,GAAkB,QAAQ,KAAM,CAAA,IAAA,CAAK,CAAC,EAAE,IAAA,EAAW,KAAA,IAAA,KAAS,QAAQ,CAAA,CAAA;AAC1E,IAAA,IAAI,eAAiB,EAAA;AACnB,MAAA,kBAAA,CAAmB,KAAK,QAAQ,CAAA,CAAA;AAAA,KAC3B,MAAA;AACL,MAAA,mBAAA,CAAoB,KAAK,QAAQ,CAAA,CAAA;AAAA,KACnC;AAAA,GACF,CAAA;AAEA,EAAO,OAAA;AAAA,IACL,YAAA;AAAA,IACA,aAAA;AAAA,IACA,cAAA;AAAA,IACA,UAAA;AAAA,IACA,cAAA;AAAA,IACA,cAAA;AAAA,IACA,gBAAA;AAAA,IACA,kBAAA;AAAA,IACA,mBAAA;AAAA,IACA,kBAAoB,EAAA,IAAA;AAAA,IACpB,iBAAA;AAAA,IACA,aAAA;AAAA,IACA,gBAAA;AAAA,IACA,UAAA;AAAA,IACA,UAAA;AAAA,IACA,QAAA;AAAA,IACA,SAAA;AAAA,IACA,WAAA;AAAA,IACA,SAAA;AAAA,IACA,kBAAA;AAAA,IACA,uBAAA;AAAA,IACA,gBAAA;AAAA,IACA,yBAAA;AAAA,IACA,aAAA;AAAA,IACA,gBAAA;AAAA,IACA,oBAAA;AAAA,IACA,YAAA;AAAA,IACA,cAAA;AAAA,IACA,iBAAA;AAAA,IACA,MAAQ,EAAA;AAAA,MACN,SAAA;AAAA,MACA,MAAA;AAAA,MACA,IAAA;AAAA,MACA,KAAA;AAAA,MACA,SAAA;AAAA,MACA,QAAA;AAAA,MACA,aAAA;AAAA,MACA,OAAA;AAAA,MACA,YAAA;AAAA,MACA,iBAAA;AAAA,MACA,WAAA;AAAA,MACA,gBAAA;AAAA,MACA,qBAAA;AAAA,MACA,cAAA;AAAA,MACA,iBAAA;AAAA,MACA,sBAAA;AAAA,MACA,2BAAA;AAAA,MACA,aAAA;AAAA,MACA,SAAA;AAAA,MACA,gBAAA;AAAA,MACA,qBAAA;AAAA,MACA,UAAA;AAAA,MACA,OAAA;AAAA,MACA,YAAA;AAAA,MACA,aAAA;AAAA,MACA,QAAA;AAAA,MACA,SAAA;AAAA,MACA,QAAA;AAAA,MACA,GAAG,YAAA;AAAA,MACH,GAAG,UAAA;AAAA,MACH,GAAG,WAAA;AAAA,KACL;AAAA,GACF,CAAA;AACF;;;;"}