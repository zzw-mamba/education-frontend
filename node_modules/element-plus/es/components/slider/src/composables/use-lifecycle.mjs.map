{"version":3,"file":"use-lifecycle.mjs","sources":["../../../../../../../packages/components/slider/src/composables/use-lifecycle.ts"],"sourcesContent":["import { nextTick, onMounted, ref } from 'vue'\nimport { useEventListener } from '@vueuse/core'\nimport { isArray, isNumber } from '@element-plus/utils'\n\nimport type { SliderInitData, SliderProps } from '../slider'\n\nexport const useLifecycle = (\n  props: SliderProps,\n  initData: SliderInitData,\n  resetSize: () => void\n) => {\n  const sliderWrapper = ref<HTMLElement>()\n\n  onMounted(async () => {\n    if (props.range) {\n      if (isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0])\n        initData.secondValue = Math.min(props.max, props.modelValue[1])\n      } else {\n        initData.firstValue = props.min\n        initData.secondValue = props.max\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue]\n    } else {\n      if (!isNumber(props.modelValue) || Number.isNaN(props.modelValue)) {\n        initData.firstValue = props.min\n      } else {\n        initData.firstValue = Math.min(\n          props.max,\n          Math.max(props.min, props.modelValue)\n        )\n      }\n      initData.oldValue = initData.firstValue\n    }\n\n    useEventListener(window, 'resize', resetSize)\n\n    await nextTick()\n    resetSize()\n  })\n\n  return {\n    sliderWrapper,\n  }\n}\n"],"names":[],"mappings":";;;;;AAMO,MAAM,YAAe,GAAA,CAC1B,KACA,EAAA,QAAA,EACA,SACG,KAAA;AACH,EAAA,MAAM,gBAAgB,GAAiB,EAAA,CAAA;AAEvC,EAAA,SAAA,CAAU,YAAY;AACpB,IAAA,IAAI,MAAM,KAAO,EAAA;AACf,MAAI,IAAA,OAAA,CAAQ,KAAM,CAAA,UAAU,CAAG,EAAA;AAC7B,QAAA,QAAA,CAAS,aAAa,IAAK,CAAA,GAAA,CAAI,MAAM,GAAK,EAAA,KAAA,CAAM,WAAW,CAAE,CAAA,CAAA,CAAA;AAC7D,QAAA,QAAA,CAAS,cAAc,IAAK,CAAA,GAAA,CAAI,MAAM,GAAK,EAAA,KAAA,CAAM,WAAW,CAAE,CAAA,CAAA,CAAA;AAAA,OACzD,MAAA;AACL,QAAA,QAAA,CAAS,aAAa,KAAM,CAAA,GAAA,CAAA;AAC5B,QAAA,QAAA,CAAS,cAAc,KAAM,CAAA,GAAA,CAAA;AAAA,OAC/B;AACA,MAAA,QAAA,CAAS,QAAW,GAAA,CAAC,QAAS,CAAA,UAAA,EAAY,SAAS,WAAW,CAAA,CAAA;AAAA,KACzD,MAAA;AACL,MAAI,IAAA,CAAC,SAAS,KAAM,CAAA,UAAU,KAAK,MAAO,CAAA,KAAA,CAAM,KAAM,CAAA,UAAU,CAAG,EAAA;AACjE,QAAA,QAAA,CAAS,aAAa,KAAM,CAAA,GAAA,CAAA;AAAA,OACvB,MAAA;AACL,QAAA,QAAA,CAAS,aAAa,IAAK,CAAA,GAAA;AAAA,UACzB,KAAM,CAAA,GAAA;AAAA,UACN,IAAK,CAAA,GAAA,CAAI,KAAM,CAAA,GAAA,EAAK,MAAM,UAAU,CAAA;AAAA,SACtC,CAAA;AAAA,OACF;AACA,MAAA,QAAA,CAAS,WAAW,QAAS,CAAA,UAAA,CAAA;AAAA,KAC/B;AAEA,IAAiB,gBAAA,CAAA,MAAA,EAAQ,UAAU,SAAS,CAAA,CAAA;AAE5C,IAAA,MAAM,QAAS,EAAA,CAAA;AACf,IAAU,SAAA,EAAA,CAAA;AAAA,GACX,CAAA,CAAA;AAED,EAAO,OAAA;AAAA,IACL,aAAA;AAAA,GACF,CAAA;AACF;;;;"}