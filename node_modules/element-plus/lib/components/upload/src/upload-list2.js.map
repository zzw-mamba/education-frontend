{"version":3,"file":"upload-list2.js","sources":["../../../../../../packages/components/upload/src/upload-list.vue"],"sourcesContent":["<template>\n  <transition-group tag=\"ul\" :class=\"containerKls\" :name=\"nsList.b()\">\n    <li\n      v-for=\"(file, index) in files\"\n      :key=\"file.uid || file.name\"\n      :class=\"[\n        nsUpload.be('list', 'item'),\n        nsUpload.is(file.status),\n        { focusing },\n      ]\"\n      :tabindex=\"disabled ? undefined : 0\"\n      :aria-disabled=\"disabled\"\n      role=\"button\"\n      @keydown.delete=\"!disabled && handleRemove(file)\"\n      @focus=\"focusing = true\"\n      @blur=\"focusing = false\"\n      @click=\"focusing = false\"\n    >\n      <slot :file=\"file\" :index=\"index\">\n        <img\n          v-if=\"\n            listType === 'picture' ||\n            (file.status !== 'uploading' && listType === 'picture-card')\n          \"\n          :class=\"nsUpload.be('list', 'item-thumbnail')\"\n          :src=\"file.url\"\n          :crossorigin=\"crossorigin\"\n          alt=\"\"\n        />\n        <div\n          v-if=\"file.status === 'uploading' || listType !== 'picture-card'\"\n          :class=\"nsUpload.be('list', 'item-info')\"\n        >\n          <a\n            :class=\"nsUpload.be('list', 'item-name')\"\n            @click.prevent=\"handlePreview(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('document')\">\n              <Document />\n            </el-icon>\n            <span\n              :class=\"nsUpload.be('list', 'item-file-name')\"\n              :title=\"file.name\"\n            >\n              {{ file.name }}\n            </span>\n          </a>\n          <el-progress\n            v-if=\"file.status === 'uploading'\"\n            :type=\"listType === 'picture-card' ? 'circle' : 'line'\"\n            :stroke-width=\"listType === 'picture-card' ? 6 : 2\"\n            :percentage=\"Number(file.percentage)\"\n            :style=\"listType === 'picture-card' ? '' : 'margin-top: 0.5rem'\"\n          />\n        </div>\n\n        <label :class=\"nsUpload.be('list', 'item-status-label')\">\n          <el-icon\n            v-if=\"listType === 'text'\"\n            :class=\"[nsIcon.m('upload-success'), nsIcon.m('circle-check')]\"\n          >\n            <circle-check />\n          </el-icon>\n          <el-icon\n            v-else-if=\"['picture-card', 'picture'].includes(listType)\"\n            :class=\"[nsIcon.m('upload-success'), nsIcon.m('check')]\"\n          >\n            <Check />\n          </el-icon>\n        </label>\n        <el-icon\n          v-if=\"!disabled\"\n          :class=\"nsIcon.m('close')\"\n          @click=\"handleRemove(file)\"\n        >\n          <Close />\n        </el-icon>\n        <!-- Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn-->\n        <!-- This is a bug which needs to be fixed -->\n        <!-- TODO: Fix the incorrect navigation interaction -->\n        <i v-if=\"!disabled\" :class=\"nsIcon.m('close-tip')\">{{\n          t('el.upload.deleteTip')\n        }}</i>\n        <span\n          v-if=\"listType === 'picture-card'\"\n          :class=\"nsUpload.be('list', 'item-actions')\"\n        >\n          <span\n            :class=\"nsUpload.be('list', 'item-preview')\"\n            @click=\"handlePreview(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('zoom-in')\"><zoom-in /></el-icon>\n          </span>\n          <span\n            v-if=\"!disabled\"\n            :class=\"nsUpload.be('list', 'item-delete')\"\n            @click=\"handleRemove(file)\"\n          >\n            <el-icon :class=\"nsIcon.m('delete')\">\n              <Delete />\n            </el-icon>\n          </span>\n        </span>\n      </slot>\n    </li>\n    <slot name=\"append\" />\n  </transition-group>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref } from 'vue'\nimport { ElIcon } from '@element-plus/components/icon'\nimport {\n  Check,\n  CircleCheck,\n  Close,\n  Delete,\n  Document,\n  ZoomIn,\n} from '@element-plus/icons-vue'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElProgress from '@element-plus/components/progress'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport { uploadListEmits, uploadListProps } from './upload-list'\n\nimport type { UploadFile } from './upload'\n\ndefineOptions({\n  name: 'ElUploadList',\n})\n\nconst props = defineProps(uploadListProps)\nconst emit = defineEmits(uploadListEmits)\n\nconst { t } = useLocale()\nconst nsUpload = useNamespace('upload')\nconst nsIcon = useNamespace('icon')\nconst nsList = useNamespace('list')\nconst disabled = useFormDisabled()\n\nconst focusing = ref(false)\n\nconst containerKls = computed(() => [\n  nsUpload.b('list'),\n  nsUpload.bm('list', props.listType),\n  nsUpload.is('disabled', disabled.value),\n])\n\nconst handleRemove = (file: UploadFile) => {\n  emit('remove', file)\n}\n</script>\n"],"names":["useLocale","useNamespace","useFormDisabled","ref","computed","_createBlock","_TransitionGroup","_normalizeClass","_unref","_openBlock","_createElementBlock","_Fragment","files","_withKeys","_renderSlot","listType","crossorigin","_createCommentVNode","_createElementVNode","_withModifiers","handlePreview","_createVNode","ElIcon","Document","_toDisplayString","ElProgress","_normalizeStyle","CircleCheck","Check","Close","ZoomIn","Delete"],"mappings":"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"}