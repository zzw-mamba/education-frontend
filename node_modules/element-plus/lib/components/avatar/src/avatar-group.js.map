{"version":3,"file":"avatar-group.js","sources":["../../../../../../packages/components/avatar/src/avatar-group.tsx"],"sourcesContent":["import {\n  cloneVNode,\n  defineComponent,\n  isVNode,\n  provide,\n  reactive,\n  toRef,\n} from 'vue'\nimport { flattedChildren } from '@element-plus/utils'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { useNamespace } from '@element-plus/hooks'\nimport ElAvatar from './avatar.vue'\nimport { avatarGroupContextKey } from './constants'\nimport { avatarGroupProps } from './avatar-group-props'\n\nexport default defineComponent({\n  name: 'ElAvatarGroup',\n  props: avatarGroupProps,\n  setup(props, { slots }) {\n    const ns = useNamespace('avatar-group')\n\n    provide(\n      avatarGroupContextKey,\n      reactive({\n        size: toRef(props, 'size'),\n        shape: toRef(props, 'shape'),\n      })\n    )\n\n    return () => {\n      const avatars = flattedChildren(slots.default?.() ?? [])\n      let visibleAvatars = avatars\n\n      const showCollapseAvatar =\n        props.collapseAvatars && avatars.length > props.maxCollapseAvatars\n\n      if (showCollapseAvatar) {\n        visibleAvatars = avatars.slice(0, props.maxCollapseAvatars)\n        const hiddenAvatars = avatars.slice(props.maxCollapseAvatars)\n\n        visibleAvatars.push(\n          <ElTooltip\n            popperClass={props.popperClass}\n            popperStyle={props.popperStyle}\n            placement={props.placement}\n            effect={props.effect}\n            disabled={!props.collapseAvatarsTooltip}\n          >\n            {{\n              default: () => (\n                <ElAvatar\n                  size={props.size}\n                  shape={props.shape}\n                  class={props.collapseClass}\n                  style={props.collapseStyle}\n                >\n                  + {hiddenAvatars.length}\n                </ElAvatar>\n              ),\n              content: () => (\n                <div class={ns.e('collapse-avatars')}>\n                  {hiddenAvatars.map((node, idx) =>\n                    isVNode(node)\n                      ? cloneVNode(node, { key: node.key ?? idx })\n                      : node\n                  )}\n                </div>\n              ),\n            }}\n          </ElTooltip>\n        )\n      }\n\n      return <div class={ns.b()}>{visibleAvatars}</div>\n    }\n  },\n})\n"],"names":["defineComponent","name","props","avatarGroupProps","setup","slots","ns","useNamespace","provide","avatarGroupContextKey","reactive","size","toRef","shape","avatars","flattedChildren","default","visibleAvatars","showCollapseAvatar","collapseAvatars","length","maxCollapseAvatars","slice","hiddenAvatars","push","_createVNode","ElTooltip","popperClass","popperStyle","placement","effect","collapseAvatarsTooltip","ElAvatar","collapseClass","collapseStyle","_createTextVNode","content","e","map","node","idx","isVNode","_a","cloneVNode","key","b"],"mappings":"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"}