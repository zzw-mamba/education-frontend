{"version":3,"file":"select-controller2.js","sources":["../../../../../../packages/components/calendar/src/select-controller.vue"],"sourcesContent":["<template>\n  <el-select\n    :model-value=\"yearValue\"\n    size=\"small\"\n    :class=\"nsSelect.e('year')\"\n    :validate-event=\"false\"\n    :options=\"yearOptions\"\n    @change=\"handleYearChange\"\n  />\n  <el-select\n    :model-value=\"monthValue\"\n    size=\"small\"\n    :class=\"nsSelect.e('month')\"\n    :validate-event=\"false\"\n    :options=\"monthOptions\"\n    @change=\"handleMonthChange\"\n  />\n  <el-button size=\"small\" @click=\"selectToday\">\n    {{ t('el.datepicker.today') }}\n  </el-button>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport dayjs from 'dayjs'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport ElSelect from '@element-plus/components/select'\nimport { ElButton } from '@element-plus/components/button'\nimport { isFunction } from '@element-plus/utils'\nimport {\n  selectControllerEmits,\n  selectControllerProps,\n} from './select-controller'\n\ndefineOptions({\n  name: 'SelectController',\n})\n\nconst props = defineProps(selectControllerProps)\nconst emit = defineEmits(selectControllerEmits)\n\nconst nsSelect = useNamespace('calendar-select')\nconst { t, lang } = useLocale()\n\nconst monthOptions = Array.from({ length: 12 }, (_, index) => {\n  const actualMonth = index + 1\n  const label = isFunction(props.formatter)\n    ? props.formatter(actualMonth, 'month')\n    : actualMonth\n  return {\n    value: actualMonth,\n    label,\n  }\n})\n\nconst yearValue = computed(() => props.date.year())\nconst monthValue = computed(() => props.date.month() + 1)\n// Get an array of 20 years\nconst yearOptions = computed(() => {\n  const years = []\n  for (let i = -10; i < 10; i++) {\n    const year = yearValue.value + i\n    if (year > 0) {\n      const label = isFunction(props.formatter)\n        ? props.formatter(year, 'year')\n        : year\n      years.push({ value: year, label })\n    }\n  }\n  return years\n})\n\nconst handleYearChange = (year: number) => {\n  emit(\n    'date-change',\n    dayjs(new Date(year, monthValue.value - 1, 1)).locale(lang.value)\n  )\n}\n\nconst handleMonthChange = (month: number) => {\n  emit(\n    'date-change',\n    dayjs(new Date(yearValue.value, month - 1, 1)).locale(lang.value)\n  )\n}\n\nconst selectToday = () => {\n  emit('date-change', 'today')\n}\n</script>\n"],"names":["useNamespace","useLocale","isFunction","computed","dayjs","_createVNode","_unref","ElSelect","_normalizeClass","ElButton","_createTextVNode"],"mappings":"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"}