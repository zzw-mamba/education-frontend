{"version":3,"file":"drawer2.js","sources":["../../../../../../packages/components/drawer/src/drawer.vue"],"sourcesContent":["<template>\n  <el-teleport\n    :to=\"appendTo\"\n    :disabled=\"appendTo !== 'body' ? false : !appendToBody\"\n  >\n    <transition\n      :name=\"ns.b('fade')\"\n      @after-enter=\"afterEnter\"\n      @after-leave=\"afterLeave\"\n      @before-leave=\"beforeLeave\"\n    >\n      <el-overlay\n        v-show=\"visible\"\n        :mask=\"modal\"\n        :overlay-class=\"[\n          ns.is('drawer'),\n          modalClass ?? '',\n          `${ns.namespace.value}-modal-drawer`,\n          ns.is('penetrable', penetrable),\n        ]\"\n        :z-index=\"zIndex\"\n        @click=\"onModalClick\"\n      >\n        <el-focus-trap\n          loop\n          :trapped=\"visible\"\n          :focus-trap-el=\"drawerRef\"\n          :focus-start-el=\"focusStartRef\"\n          @focus-after-trapped=\"onOpenAutoFocus\"\n          @focus-after-released=\"onCloseAutoFocus\"\n          @focusout-prevented=\"onFocusoutPrevented\"\n          @release-requested=\"onCloseRequested\"\n        >\n          <div\n            ref=\"drawerRef\"\n            aria-modal=\"true\"\n            :aria-label=\"title || undefined\"\n            :aria-labelledby=\"!title ? titleId : undefined\"\n            :aria-describedby=\"bodyId\"\n            v-bind=\"$attrs\"\n            :class=\"[\n              ns.b(),\n              direction,\n              visible && 'open',\n              ns.is('dragging', isResizing),\n            ]\"\n            :style=\"{ [isHorizontal ? 'width' : 'height']: size }\"\n            role=\"dialog\"\n            @click.stop\n          >\n            <span ref=\"focusStartRef\" :class=\"ns.e('sr-focus')\" tabindex=\"-1\" />\n            <header v-if=\"withHeader\" :class=\"[ns.e('header'), headerClass]\">\n              <template v-if=\"!$slots.title\">\n                <slot\n                  name=\"header\"\n                  :close=\"handleClose\"\n                  :title-id=\"titleId\"\n                  :title-class=\"ns.e('title')\"\n                >\n                  <span\n                    :id=\"titleId\"\n                    role=\"heading\"\n                    :aria-level=\"headerAriaLevel\"\n                    :class=\"ns.e('title')\"\n                  >\n                    {{ title }}\n                  </span>\n                </slot>\n              </template>\n              <template v-else>\n                <slot name=\"title\">\n                  <!-- DEPRECATED SLOT -->\n                </slot>\n              </template>\n              <button\n                v-if=\"showClose\"\n                :aria-label=\"t('el.drawer.close')\"\n                :class=\"ns.e('close-btn')\"\n                type=\"button\"\n                @click=\"handleClose\"\n              >\n                <el-icon :class=\"ns.e('close')\">\n                  <close />\n                </el-icon>\n              </button>\n            </header>\n            <template v-if=\"rendered\">\n              <div :id=\"bodyId\" :class=\"[ns.e('body'), bodyClass]\">\n                <slot />\n              </div>\n            </template>\n            <div v-if=\"$slots.footer\" :class=\"[ns.e('footer'), footerClass]\">\n              <slot name=\"footer\" />\n            </div>\n            <div\n              v-if=\"resizable\"\n              ref=\"draggerRef\"\n              :style=\"{ zIndex }\"\n              :class=\"ns.e('dragger')\"\n            />\n          </div>\n        </el-focus-trap>\n      </el-overlay>\n    </transition>\n  </el-teleport>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, useSlots } from 'vue'\nimport { Close } from '@element-plus/icons-vue'\nimport { ElOverlay } from '@element-plus/components/overlay'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport ElTeleport from '@element-plus/components/teleport'\nimport { useDialog } from '@element-plus/components/dialog'\nimport ElIcon from '@element-plus/components/icon'\nimport { useDeprecated, useLocale, useNamespace } from '@element-plus/hooks'\nimport { drawerEmits, drawerProps } from './drawer'\nimport { useResizable } from './composables/useResizable'\n\ndefineOptions({\n  name: 'ElDrawer',\n  inheritAttrs: false,\n})\n\nconst props = defineProps(drawerProps)\nconst emit = defineEmits(drawerEmits)\nconst slots = useSlots()\n\nuseDeprecated(\n  {\n    scope: 'el-drawer',\n    from: 'the title slot',\n    replacement: 'the header slot',\n    version: '3.0.0',\n    ref: 'https://element-plus.org/en-US/component/drawer.html#slots',\n  },\n  computed(() => !!slots.title)\n)\n\nconst drawerRef = ref<HTMLElement>()\nconst focusStartRef = ref<HTMLElement>()\nconst draggerRef = ref<HTMLElement>()\nconst ns = useNamespace('drawer')\nconst { t } = useLocale()\n\nconst {\n  afterEnter,\n  afterLeave,\n  beforeLeave,\n  visible,\n  rendered,\n  titleId,\n  bodyId,\n  zIndex,\n  onModalClick,\n  onOpenAutoFocus,\n  onCloseAutoFocus,\n  onFocusoutPrevented,\n  onCloseRequested,\n  handleClose,\n} = useDialog(props, drawerRef)\n\nconst { isHorizontal, size, isResizing } = useResizable(props, draggerRef, emit)\n\nconst penetrable = computed(() => props.modalPenetrable && !props.modal)\n\ndefineExpose({\n  handleClose,\n  afterEnter,\n  afterLeave,\n})\n</script>\n"],"names":["useSlots","useDeprecated","computed","ref","useNamespace","useLocale","useDialog","useResizable","_createBlock","_unref","ElTeleport","appendTo","appendToBody","_createVNode","_Transition","_withDirectives","ElOverlay","modal","modalClass","ElFocusTrap","_createElementVNode","_mergeProps","title","$attrs","direction","_withModifiers","_normalizeClass","withHeader","_openBlock","_createElementBlock","headerClass","$slots","_renderSlot","headerAriaLevel","_toDisplayString","_createCommentVNode","showClose","ElIcon","Close","bodyClass","footerClass","resizable","_normalizeStyle"],"mappings":"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"}