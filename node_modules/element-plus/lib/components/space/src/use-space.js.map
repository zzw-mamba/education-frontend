{"version":3,"file":"use-space.js","sources":["../../../../../../packages/components/space/src/use-space.ts"],"sourcesContent":["import { computed, ref, watchEffect } from 'vue'\nimport { isArray, isNumber } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\n\nimport type { SpaceProps } from './space'\nimport type { CSSProperties, StyleValue } from 'vue'\n\nconst SIZE_MAP = {\n  small: 8,\n  default: 12,\n  large: 16,\n} as const\n\nexport function useSpace(props: SpaceProps) {\n  const ns = useNamespace('space')\n\n  const classes = computed(() => [ns.b(), ns.m(props.direction), props.class])\n\n  const horizontalSize = ref(0)\n  const verticalSize = ref(0)\n\n  const containerStyle = computed<StyleValue>(() => {\n    const wrapKls: CSSProperties =\n      props.wrap || props.fill ? { flexWrap: 'wrap' } : {}\n    const alignment: CSSProperties = {\n      alignItems: props.alignment,\n    }\n    const gap: CSSProperties = {\n      rowGap: `${verticalSize.value}px`,\n      columnGap: `${horizontalSize.value}px`,\n    }\n    return [wrapKls, alignment, gap, props.style]\n  })\n\n  const itemStyle = computed<StyleValue>(() => {\n    return props.fill ? { flexGrow: 1, minWidth: `${props.fillRatio}%` } : {}\n  })\n\n  watchEffect(() => {\n    const { size = 'small', wrap, direction: dir, fill } = props\n\n    // when the specified size have been given\n    if (isArray(size)) {\n      const [h = 0, v = 0] = size\n      horizontalSize.value = h\n      verticalSize.value = v\n    } else {\n      let val: number\n      if (isNumber(size)) {\n        val = size\n      } else {\n        val = SIZE_MAP[size || 'small'] || SIZE_MAP.small\n      }\n\n      if ((wrap || fill) && dir === 'horizontal') {\n        horizontalSize.value = verticalSize.value = val\n      } else {\n        if (dir === 'horizontal') {\n          horizontalSize.value = val\n          verticalSize.value = 0\n        } else {\n          verticalSize.value = val\n          horizontalSize.value = 0\n        }\n      }\n    }\n  })\n\n  return {\n    classes,\n    containerStyle,\n    itemStyle,\n  }\n}\n"],"names":["useNamespace","computed","ref","watchEffect","isArray","isNumber"],"mappings":"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"}