{"version":3,"file":"dialog2.js","sources":["../../../../../../packages/components/dialog/src/dialog.vue"],"sourcesContent":["<template>\n  <el-teleport\n    :to=\"appendTo\"\n    :disabled=\"appendTo !== 'body' ? false : !appendToBody\"\n  >\n    <transition v-bind=\"transitionConfig\">\n      <el-overlay\n        v-show=\"visible\"\n        custom-mask-event\n        :mask=\"modal\"\n        :overlay-class=\"[\n          modalClass ?? '',\n          `${ns.namespace.value}-modal-dialog`,\n          ns.is('penetrable', penetrable),\n        ]\"\n        :z-index=\"zIndex\"\n      >\n        <div\n          role=\"dialog\"\n          aria-modal=\"true\"\n          :aria-label=\"title || undefined\"\n          :aria-labelledby=\"!title ? titleId : undefined\"\n          :aria-describedby=\"bodyId\"\n          :class=\"[\n            `${ns.namespace.value}-overlay-dialog`,\n            ns.is('closing', closing),\n          ]\"\n          :style=\"overlayDialogStyle\"\n          @click=\"overlayEvent.onClick\"\n          @mousedown=\"overlayEvent.onMousedown\"\n          @mouseup=\"overlayEvent.onMouseup\"\n        >\n          <el-focus-trap\n            loop\n            :trapped=\"visible\"\n            focus-start-el=\"container\"\n            @focus-after-trapped=\"onOpenAutoFocus\"\n            @focus-after-released=\"onCloseAutoFocus\"\n            @focusout-prevented=\"onFocusoutPrevented\"\n            @release-requested=\"onCloseRequested\"\n          >\n            <el-dialog-content\n              v-if=\"rendered\"\n              ref=\"dialogContentRef\"\n              v-bind=\"$attrs\"\n              :center=\"center\"\n              :align-center=\"_alignCenter\"\n              :close-icon=\"closeIcon\"\n              :draggable=\"_draggable\"\n              :overflow=\"_overflow\"\n              :fullscreen=\"fullscreen\"\n              :header-class=\"headerClass\"\n              :body-class=\"bodyClass\"\n              :footer-class=\"footerClass\"\n              :show-close=\"showClose\"\n              :title=\"title\"\n              :aria-level=\"headerAriaLevel\"\n              @close=\"handleClose\"\n            >\n              <template #header>\n                <slot\n                  v-if=\"!$slots.title\"\n                  name=\"header\"\n                  :close=\"handleClose\"\n                  :title-id=\"titleId\"\n                  :title-class=\"ns.e('title')\"\n                />\n                <slot v-else name=\"title\" />\n              </template>\n              <slot />\n              <template v-if=\"$slots.footer\" #footer>\n                <slot name=\"footer\" />\n              </template>\n            </el-dialog-content>\n          </el-focus-trap>\n        </div>\n      </el-overlay>\n    </transition>\n  </el-teleport>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, provide, ref, useSlots } from 'vue'\nimport { ElOverlay } from '@element-plus/components/overlay'\nimport { useDeprecated, useNamespace, useSameTarget } from '@element-plus/hooks'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport ElTeleport from '@element-plus/components/teleport'\nimport ElDialogContent from './dialog-content.vue'\nimport { dialogInjectionKey } from './constants'\nimport { dialogEmits, dialogProps } from './dialog'\nimport { useDialog } from './use-dialog'\n\ndefineOptions({\n  name: 'ElDialog',\n  inheritAttrs: false,\n})\n\nconst props = defineProps(dialogProps)\ndefineEmits(dialogEmits)\nconst slots = useSlots()\n\nuseDeprecated(\n  {\n    scope: 'el-dialog',\n    from: 'the title slot',\n    replacement: 'the header slot',\n    version: '3.0.0',\n    ref: 'https://element-plus.org/en-US/component/dialog.html#slots',\n  },\n  computed(() => !!slots.title)\n)\n\nconst ns = useNamespace('dialog')\nconst dialogRef = ref<HTMLElement>()\nconst headerRef = ref<HTMLElement>()\nconst dialogContentRef = ref()\n\nconst {\n  visible,\n  titleId,\n  bodyId,\n  style,\n  overlayDialogStyle,\n  rendered,\n  transitionConfig,\n  zIndex,\n  _draggable,\n  _alignCenter,\n  _overflow,\n  handleClose,\n  onModalClick,\n  onOpenAutoFocus,\n  onCloseAutoFocus,\n  onCloseRequested,\n  onFocusoutPrevented,\n  closing,\n} = useDialog(props, dialogRef)\n\nprovide(dialogInjectionKey, {\n  dialogRef,\n  headerRef,\n  bodyId,\n  ns,\n  rendered,\n  style,\n})\n\nconst overlayEvent = useSameTarget(onModalClick)\n\nconst penetrable = computed(\n  () => props.modalPenetrable && !props.modal && !props.fullscreen\n)\n\nconst resetPosition = () => {\n  dialogContentRef.value?.resetPosition()\n}\n\ndefineExpose({\n  /** @description whether the dialog is visible */\n  visible,\n  dialogContentRef,\n  resetPosition,\n  handleClose,\n})\n</script>\n"],"names":["useSlots","useDeprecated","computed","useNamespace","ref","useDialog","provide","dialogInjectionKey","useSameTarget","_createBlock","_unref","ElTeleport","appendTo","appendToBody","_createVNode","_Transition","_mergeProps","_withCtx","_withDirectives","ElOverlay","modal","modalClass","_createElementVNode","title","_normalizeClass","_normalizeStyle","ElFocusTrap","_openBlock","ElDialogContent","$attrs","center","closeIcon","fullscreen","headerClass","bodyClass","footerClass","showClose","headerAriaLevel","_createSlots","$slots","_renderSlot"],"mappings":"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"}