{"version":3,"file":"use-shortcut.js","sources":["../../../../../../../packages/components/date-picker-panel/src/composables/use-shortcut.ts"],"sourcesContent":["import { getCurrentInstance, useAttrs, useSlots } from 'vue'\nimport dayjs from 'dayjs'\nimport { isFunction } from '@element-plus/utils'\n\nimport type { SetupContext } from 'vue'\nimport type { useLocale } from '@element-plus/hooks'\nimport type { RangePickerSharedEmits } from '../props/shared'\n\n// FIXME: extract this to `date-picker.ts`\nexport type Shortcut = {\n  text: string\n  value: [Date, Date] | (() => [Date, Date])\n  onClick?: (ctx: Omit<SetupContext<RangePickerSharedEmits>, 'expose'>) => void\n}\n\nexport const useShortcut = (lang: ReturnType<typeof useLocale>['lang']) => {\n  const { emit } = getCurrentInstance()!\n  const attrs = useAttrs()\n  const slots = useSlots()\n\n  const handleShortcutClick = (shortcut: Shortcut) => {\n    const shortcutValues = isFunction(shortcut.value)\n      ? shortcut.value()\n      : shortcut.value\n\n    if (shortcutValues) {\n      emit('pick', [\n        dayjs(shortcutValues[0]).locale(lang.value),\n        dayjs(shortcutValues[1]).locale(lang.value),\n      ])\n      return\n    }\n    if (shortcut.onClick) {\n      shortcut.onClick({\n        attrs,\n        slots,\n        emit,\n      })\n    }\n  }\n\n  return handleShortcutClick\n}\n"],"names":["getCurrentInstance","useAttrs","useSlots","isFunction","dayjs"],"mappings":";;;;;;;;;;;;AAea,MAAA,WAAA,GAAc,CAAC,IAA+C,KAAA;AACzE,EAAM,MAAA,EAAE,IAAK,EAAA,GAAIA,sBAAmB,EAAA,CAAA;AACpC,EAAA,MAAM,QAAQC,YAAS,EAAA,CAAA;AACvB,EAAA,MAAM,QAAQC,YAAS,EAAA,CAAA;AAEvB,EAAM,MAAA,mBAAA,GAAsB,CAAC,QAAuB,KAAA;AAClD,IAAM,MAAA,cAAA,GAAiBC,kBAAW,QAAS,CAAA,KAAK,IAC5C,QAAS,CAAA,KAAA,KACT,QAAS,CAAA,KAAA,CAAA;AAEb,IAAA,IAAI,cAAgB,EAAA;AAClB,MAAA,IAAA,CAAK,MAAQ,EAAA;AAAA,QACXC,0BAAM,cAAe,CAAA,CAAA,CAAE,CAAE,CAAA,MAAA,CAAO,KAAK,KAAK,CAAA;AAAA,QAC1CA,0BAAM,cAAe,CAAA,CAAA,CAAE,CAAE,CAAA,MAAA,CAAO,KAAK,KAAK,CAAA;AAAA,OAC3C,CAAA,CAAA;AACD,MAAA,OAAA;AAAA,KACF;AACA,IAAA,IAAI,SAAS,OAAS,EAAA;AACpB,MAAA,QAAA,CAAS,OAAQ,CAAA;AAAA,QACf,KAAA;AAAA,QACA,KAAA;AAAA,QACA,IAAA;AAAA,OACD,CAAA,CAAA;AAAA,KACH;AAAA,GACF,CAAA;AAEA,EAAO,OAAA,mBAAA,CAAA;AACT;;;;"}