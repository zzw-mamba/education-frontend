{"version":3,"file":"checkbox-group2.js","sources":["../../../../../../packages/components/checkbox/src/checkbox-group.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"tag\"\n    :id=\"groupId\"\n    :class=\"ns.b('group')\"\n    role=\"group\"\n    :aria-label=\"\n      !isLabeledByFormItem ? ariaLabel || 'checkbox-group' : undefined\n    \"\n    :aria-labelledby=\"isLabeledByFormItem ? formItem?.labelId : undefined\"\n  >\n    <slot>\n      <component\n        :is=\"optionComponent\"\n        v-for=\"(item, index) in options\"\n        :key=\"index\"\n        v-bind=\"getOptionProps(item)\"\n      />\n    </slot>\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, nextTick, provide, toRefs, watch } from 'vue'\nimport { isEqual, omit, pick } from 'lodash-unified'\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { debugWarn } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  useFormDisabled,\n  useFormItem,\n  useFormItemInputId,\n} from '@element-plus/components/form'\nimport {\n  checkboxDefaultProps,\n  checkboxGroupEmits,\n  checkboxGroupProps,\n} from './checkbox-group'\nimport { checkboxGroupContextKey } from './constants'\nimport ElCheckbox from './checkbox.vue'\nimport ElCheckboxButton from './checkbox-button.vue'\n\nimport type { CheckboxGroupValueType } from './checkbox-group'\n\ndefineOptions({\n  name: 'ElCheckboxGroup',\n})\n\nconst props = defineProps(checkboxGroupProps)\nconst emit = defineEmits(checkboxGroupEmits)\nconst ns = useNamespace('checkbox')\n\nconst checkboxDisabled = useFormDisabled()\nconst { formItem } = useFormItem()\nconst { inputId: groupId, isLabeledByFormItem } = useFormItemInputId(props, {\n  formItemContext: formItem,\n})\n\nconst changeEvent = async (value: CheckboxGroupValueType) => {\n  emit(UPDATE_MODEL_EVENT, value)\n  await nextTick()\n  emit(CHANGE_EVENT, value)\n}\n\nconst modelValue = computed({\n  get() {\n    return props.modelValue\n  },\n  set(val: CheckboxGroupValueType) {\n    changeEvent(val)\n  },\n})\n\nconst aliasProps = computed(() => ({\n  ...checkboxDefaultProps,\n  ...props.props,\n}))\nconst getOptionProps = (option: Record<string, any>) => {\n  const { label, value, disabled } = aliasProps.value\n  const base = {\n    label: option[label],\n    value: option[value],\n    disabled: option[disabled],\n  }\n  return { ...omit(option, [label, value, disabled]), ...base }\n}\n\nconst optionComponent = computed(() =>\n  props.type === 'button' ? ElCheckboxButton : ElCheckbox\n)\n\nprovide(checkboxGroupContextKey, {\n  ...pick(toRefs(props), [\n    'size',\n    'min',\n    'max',\n    'validateEvent',\n    'fill',\n    'textColor',\n  ]),\n  disabled: checkboxDisabled,\n  modelValue,\n  changeEvent,\n})\n\nwatch(\n  () => props.modelValue,\n  (newVal, oldValue) => {\n    if (props.validateEvent && !isEqual(newVal, oldValue)) {\n      formItem?.validate('change').catch((err) => debugWarn(err))\n    }\n  }\n)\n</script>\n"],"names":["useNamespace","useFormDisabled","useFormItem","useFormItemInputId","UPDATE_MODEL_EVENT","nextTick","CHANGE_EVENT","computed","checkboxDefaultProps","omit","ElCheckboxButton","ElCheckbox","provide","checkboxGroupContextKey","pick","toRefs","watch","isEqual","debugWarn","_openBlock","_createBlock","_resolveDynamicComponent","tag","_unref","_normalizeClass","ariaLabel","_renderSlot","_createElementBlock","_Fragment","options","_mergeProps"],"mappings":"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"}