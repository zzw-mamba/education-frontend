{"version":3,"file":"use-checkbox.js","sources":["../../../../../../../packages/components/checkbox/src/composables/use-checkbox.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { useFormItem, useFormItemInputId } from '@element-plus/components/form'\nimport { isArray, isPropAbsent } from '@element-plus/utils'\nimport { useDeprecated } from '@element-plus/hooks'\nimport { useCheckboxDisabled } from './use-checkbox-disabled'\nimport { useCheckboxEvent } from './use-checkbox-event'\nimport { useCheckboxModel } from './use-checkbox-model'\nimport { useCheckboxStatus } from './use-checkbox-status'\n\nimport type { ComponentInternalInstance } from 'vue'\nimport type { CheckboxProps } from '../checkbox'\n\nexport const useCheckbox = (\n  props: CheckboxProps,\n  slots: ComponentInternalInstance['slots']\n) => {\n  const { formItem: elFormItem } = useFormItem()\n  const { model, isGroup, isLimitExceeded } = useCheckboxModel(props)\n  const {\n    isFocused,\n    isChecked,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    actualValue,\n  } = useCheckboxStatus(props, slots, { model })\n  const { isDisabled } = useCheckboxDisabled({ model, isChecked })\n  const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n    disableIdGeneration: hasOwnLabel,\n    disableIdManagement: isGroup,\n  })\n  const { handleChange, onClickRoot } = useCheckboxEvent(props, {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem,\n  })\n\n  const setStoreValue = () => {\n    function addToStore() {\n      if (isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value)\n      } else {\n        model.value = props.trueValue ?? props.trueLabel ?? true\n      }\n    }\n    props.checked && addToStore()\n  }\n\n  setStoreValue()\n\n  useDeprecated(\n    {\n      from: 'label act as value',\n      replacement: 'value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => isGroup.value && isPropAbsent(props.value))\n  )\n\n  useDeprecated(\n    {\n      from: 'true-label',\n      replacement: 'true-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.trueLabel)\n  )\n\n  useDeprecated(\n    {\n      from: 'false-label',\n      replacement: 'false-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.falseLabel)\n  )\n\n  return {\n    inputId,\n    isLabeledByFormItem,\n    isChecked,\n    isDisabled,\n    isFocused,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    model,\n    actualValue,\n    handleChange,\n    onClickRoot,\n  }\n}\n"],"names":["useFormItem","useCheckboxModel","useCheckboxStatus","useCheckboxDisabled","useFormItemInputId","useCheckboxEvent","isArray","useDeprecated","computed","isPropAbsent"],"mappings":"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"}